<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>微信小程序初探</title>
      <link href="/2016/12/04/xiaochengxu/"/>
      <url>/2016/12/04/xiaochengxu/</url>
      <content type="html"><![CDATA[<p>最近很是火热的莫过于小程序了,我也来凑凑热闹,体验了一把,关于小程序的定义,网上流传的张小龙朋友圈是这样说的:</p><blockquote><p>小程序是一种不需要下载安装即可使用的应用，它实现了应用“触手可及”的梦想，用户扫一扫或者搜一下即可打开应用。也体现了“用完即走”的理念，用户不用关心是否安装太多应用的问题。应用将无处不在，随时可用，但又无需安装卸载</p></blockquote><p><a href="https://mp.weixin.qq.com/debug/wxadoc/introduction/index.html?t=20161122" target="_blank" rel="noopener">官网必须有</a></p><a id="more"></a><p>Demo Gif</p><p><img src="http://ww1.sinaimg.cn/large/005yqym4gw1fafqlsdwbmg30n013y1kx.gif" width="300dp" height="220dp"></p><p>主要实现了一个记事本的小demo, 可以增加,可以修改,简单记录一下,学习一下而已.<br>大致目录如下:</p><p><img src="http://ww4.sinaimg.cn/mw690/005yqym4gw1faezfzhhrhj30e20wqta7.jpg" width="200dp" height="220dp"></p><p>其中 <strong>.js,.wxml,.wxss,.json</strong>分别对应的是我们逻辑,布局,样式,后面那个我们可写可不写,很清晰,相当于我们 Android 上面的 java 代码, xml 布局, style 样式差不多.<br>一些组件,一些框架官网已经很全了,还给了栗子,直接拿来改改就可以用!<br>例子中并没有申请开发者,只是简单的注册了开发者,所以拿到了 appId, 可以真机测试,这点比较爽,不能上架而已!上架这些事如果不真心的话,还是看公司发展吧!里面一些申请的过程比较公司化,所以不怎么会搞!!<br>里面的数据存储由于没有后台支持,只能使用它们自己的 storage,最大支持10M, 应该够了!<br>后面会把代码放到 github 的!</p><p>最后来看看爱范儿的一篇文章吧</p><p><a href="http://www.myzaker.com/article/581be8cd1bc8e01b39000010/" target="_blank" rel="noopener">微信小程序的想象力与不可想象域</a></p><p>版权声明：<br></p><p><hr><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> 微信小程序 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 微信小程序 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Activity 和 Fragment 生命周期对比</title>
      <link href="/2016/06/27/activity-fragment-lifecycle/"/>
      <url>/2016/06/27/activity-fragment-lifecycle/</url>
      <content type="html"><![CDATA[<p><img src="http://ww1.sinaimg.cn/large/005yqym4gw1f59y2mzqpcj30ks0u2dha.jpg" width="300dp" height="320dp"></p><p>正好推荐一款画流程图的利器,chrome 插件</p><p><a href="https://chrome.google.com/webstore/detail/gliffy-diagrams/bhmicilclplefnflapjmnngmkkkkpfad?hl=zh-CN" target="_blank" rel="noopener">gliffy-diagrams</a></p><p>版权声明：<br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Activity Fragment生命周期 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>AndroidStudio-NDK初探</title>
      <link href="/2016/06/20/androidStuio-ndk-demo/"/>
      <url>/2016/06/20/androidStuio-ndk-demo/</url>
      <content type="html"><![CDATA[<p>话说 AndroidStudio从面世以来就一直被质疑能不能用这玩意开发NDK哪,从1.3以后貌似就支持的差不多了,现在都2.2了我才用他来玩NDK, 真是惭愧啊,鼓捣了一下午,看了几篇博客,想到了高中生物课本的一句话,”一猪生九仔,连母十个样啊!!”既然AndroidStudio已经这么人性化了,看了几个决定自己点点看,但是一些地方还是要谢谢那几篇博客啦!</p><a id="more"></a><!--[TOC]--><h2><span id="ndk-环境配置搭建">ndk 环境配置搭建</span></h2><p>配置ndk 到我们的环境变量中去,和当初我们配置adb是一样的,打开我们的.bash_profile文件(Windows 请自行Google),把我们的 ndk 路径放进去,话说现在AndroidStudio已经很完美的支持ndk了,ndk的下载可以像下载sdk那样下载了,下载完你的目录会多出一个ndk-bundle目录,那就是我们需要关心并把他的路径放到bash_profile文件中去的.使其bash_profile文件生效,并在终端输入ndk-build,如果有信息输出并不是error级别的那就证明 ok 了.</p><h2><span id="新建-ndk-项目">新建 ndk 项目</span></h2><p>我们用 AndroidStudio(2.1.2) 新建我们的 ndk 项目,和 Android 项目一样,这里我打算用 ndk写一个求和的 demo,MainActivity就是一个 TextView 显示我们的求和结果,没有说的,然后我们新建一个 Java 类,用来实现native方法</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NDKTest</span>&amp;#123</span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span>&amp;#123</span>;</span><br><span class="line">static&amp;#123;</span><br><span class="line">System.loadLibary(<span class="string">"NDKDEMO"</span>);</span><br><span class="line">&amp;#125;</span><br><span class="line">&amp;#125;</span><br><span class="line">&amp;#125;</span><br></pre></td></tr></table></figure><p>这里暂时用到这两个文件,如何才能发挥他们的威力,下面会讲.那么这里面有这么一行<code>System.loadLibrary(&quot;NDKDEMO&quot;);</code>,那我们就要开始配置我们的 ndk 到项目使其生效,首先打开local.properties这个文件,把 ndk 的路径像 sdk 那样配置进去,然后在gradle.properties这个文件尾加上<code>android.useDeprecatedNdk=true</code>,最后在 app gradle 文件中加上</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ndk&amp;#123;</span><br><span class="line">moudleName <span class="string">"NDKDEMO"</span></span><br><span class="line">&amp;#125;</span><br></pre></td></tr></table></figure><p>看出来了吧,上面的System.loadLibrary其实就是这地方的moduleName,同步我们的工程,应该不会报错!</p><h2><span id="jni-的两种生成姿势">jni 的两种生成姿势</span></h2><h3><span id="androidstudio的智能体现">AndroidStudio的智能体现</span></h3><p>我们在 MyNDK 中定义了一个 native 方法,但是他报红了,我们使用 AndroidStudio 的智能提示, alt+enter, 看到第一个选项就是<br><img src="http://ww1.sinaimg.cn/large/005yqym4gw1f51yzfya2uj30go00l0ss.jpg" alt=""><br>然后我们看到 main 下面多出了一个 jni 目录,下面多出了和moduleName一样的文件,打开我们可以看到</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;jni.h&gt;</span></span></span><br><span class="line">JNIEXPORT jint JNICALL</span><br><span class="line">Java_ndktst_android_com_ndkdemo_NDKTest_add(JNIEnv *env,jclass type,jint a,jint b)&amp;#<span class="number">123</span>;</span><br><span class="line"><span class="keyword">return</span> a+b;</span><br><span class="line">&amp;#<span class="number">125</span>;</span><br></pre></td></tr></table></figure><p>形式就是包名+ native类名+方法名,这样就OK, 我们把 a+b 返回,然后我们在 MainActivity 中</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NDKTest myNdk = <span class="keyword">new</span> NDKTest();</span><br><span class="line">textView.setText(myNdk.add(<span class="number">1</span>,<span class="number">1</span>)+<span class="string">""</span>);</span><br></pre></td></tr></table></figure><p>这样 TextView 中显示2,成功.</p><h3><span id="最装逼也是最常用的姿势">最装逼也是最常用的姿势</span></h3><p>这一种是我们最常用的姿势,在 AndroidStudio 中打开终端,定位到我们的 Java 目录,输入<code>javah -jni  packageName+className</code>去我们的 jni 目录看见生成了一个很长的.h 文件,以本例为例,生成了一个这东西<code>ndktst_android_com_ndkdemo_NDKTest.h</code>,一般不在这个文件中进行操作,会在复制一个文件,命名为.cpp的文件,</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"ndktst_android_com_ndkdemo_MyNDK.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Add.h"</span></span></span><br><span class="line">jint Java_ndktst_android_com_ndkdemo_NDKTest_add(JNIEnv *env,jclass jclassl,jint jint1,jint jint2)&amp;#123;</span><br><span class="line">Add add;</span><br><span class="line"><span class="keyword">return</span> add.addFromClass(jint1.jint2);</span><br><span class="line">&amp;#<span class="number">125</span>;</span><br></pre></td></tr></table></figure><p>然后我们新建一个C++类,自动生成. h 和. cpp的文件,.h 文件中我们这样写</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> NDKDEMO_ADD_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NDKDEMO_ADD_H</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Add</span>&amp;&amp;#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">addFromClass</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>;</span><br><span class="line">&amp;#<span class="number">125</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">//NDKDEMO_ADD_H</span></span></span><br></pre></td></tr></table></figure><p>.cpp 这样写</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Add.h"</span></span></span><br><span class="line"><span class="keyword">int</span> Add::addFromClass(<span class="keyword">int</span> a,<span class="keyword">int</span> b)&amp;#<span class="number">123</span>;</span><br><span class="line"><span class="keyword">return</span> a+b;</span><br><span class="line">&amp;#<span class="number">125</span>;</span><br></pre></td></tr></table></figure><p>上面那个很长的. cpp 文件应该找到解释了吧,我们只不过是把加法运算的方法重新定义了类,在那里面调用.最后运行的结果是一样的!!!</p><h2><span id="大功告成">大功告成</span></h2><p>这里我们只是传递了 int 类型的,那么我们在实际开发中用到的不止 int 类型,可能我们要传一个对象等等啊,就完全不一样了,我们要去看官方文档,有点复杂,这篇文章只是和大家一起在 AndroidStudio 上面先把 ndk 玩转而已!!!真实开发中用到的时候再来填坑吧!!!!<br>一个好朋友献上的,😄😄</p><p><img src="http://ww2.sinaimg.cn/large/005yqym4gw1f534rsx76lg30yz0j94qp.gif" alt=""></p><p><a href="https://developer.android.com/ndk/index.html" target="_blank" rel="noopener">NDK 指南</a><br><a href="https://codelabs.developers.google.com/codelabs/android-studio-jni/index.html?index=..%2F..%2Findex#0" target="_blank" rel="noopener">developers.google.ndk</a></p><p>版权声明：<br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> AndroidStudio </category>
          
          <category> NDK </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AndroidStudio </tag>
            
            <tag> NDK </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>App后台开发运维和架构实践Reading Notes 1</title>
      <link href="/2016/06/18/appSecurityStudy/"/>
      <url>/2016/06/18/appSecurityStudy/</url>
      <content type="html"><![CDATA[<p>App后台开发运维和架构实践读书笔记(1)第三章 App 后台核心技术.<br>可能有人看到这会说为什么会从第三章开始讲,因为前两章讲的 App 后台入门,后台基础技术,也可以去下载试看前三章,既然可以试看前三章,那为什么还写第三章,因为第三章太值得我们去看去写了,虽然还没看完,就想停下来动笔去写写这样忘得才能慢一点.<br>待续—–</p><a id="more"></a><p>/usr/local/Cellar/python3/3.4.3_1/Frameworks/Python.framework/Versions/3.4</p><!--TOC--><h2><span id="目录1">目录1</span></h2><p>App后台开发运维和架构实践</p><h2><span id="目录2">目录2</span></h2><p>App后台开发运维和架构实践</p><p><a href="http://blog.csdn.net/newjueqi" target="_blank" rel="noopener">作者 CSDN</a><br><a href="https://www.amazon.cn/App后台开发运维和架构实践-曾健生/dp/B01F5SYZPC/ref=sr_1_1?ie=UTF8&amp;qid=1465010602&amp;sr=8-1&amp;keywords=App后台开发运维和架构实践" target="_blank" rel="noopener">App后台开发运维和架构实践购买地址</a></p><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> Android </category>
          
          <category> 后台 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> App 后台开发运维和架构实践 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Gradle多版本差异化管理</title>
      <link href="/2016/05/25/gradle-diff-flavors/"/>
      <url>/2016/05/25/gradle-diff-flavors/</url>
      <content type="html"><![CDATA[<p>今天我们来说一说Gradle多版本差异化管理，在实际开发中我们往往经常需要打不同的APK来满足我们不同需求。不用手动改来改去一些多余的需求，用我们AS+Gradle就可以完美解决。废话不多说，开车。</p><a id="more"></a><p>先看图，我们通过切换不同的Build Variant，生成我们需要的APK</p><p><img src="http://ww1.sinaimg.cn/large/005yqym4gw1f47i5u30z6j30ek0omjti.jpg" width="240dp" height="300dp"></p><p>下面我们来看看在AS中我们要如何展开这项工作的，在我们app的gradle配置中我们只需要这么做，首先我们要明确两个概念</p><blockquote><ol><li>buildTypes<br>可以为不同的用户、不同的渠道打包不同的apk包，以便在程序行为上针对不同使用需求做少量定制（如是否可以更改远程服务器地址等)</li><li>productFlavors<br>productFlavors主要针对于”不同的版本之间差异非常小，本质上是同一应用”这种情况。可以根据渠道不同在版本名中增加相应后缀，可以根据特殊客户要求打包不同 ApplicationID 的apk包，并可分别使用不同的资源文件（如不同的应用图标等）</li></ol></blockquote><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">defaultConfig &amp;#123;</span><br><span class="line"> applicationId <span class="string">"android.com.test"</span></span><br><span class="line">&amp;#125;</span><br><span class="line">productFlavors &amp;#123;</span><br><span class="line">pro &amp;#123;</span><br><span class="line"> applicationId <span class="string">"android.com.test.pro"</span></span><br><span class="line">&amp;#125;</span><br><span class="line">free &amp;#123;</span><br><span class="line">&amp;#125;</span><br><span class="line">&amp;#125;</span><br></pre></td></tr></table></figure><p>这里可以看到我们加了productFlavors，里面一个pro版，一个free版，我们为高级版的定了不同的applicationId，而普通版的就是使用我们默认的applicationId，gradle中简单配置就先这样了。<br>然后我们需要在src目录下面新建我们刚刚加的两个渠道</p><p><img src="http://ww4.sinaimg.cn/large/005yqym4gw1f47lej96nwj30b809yq3e.jpg" width="200dp" height="250dp"></p><p>快速生成我们的java，res目录，新建一个空Activity就好了，然后在里面植入我们需要的代码，下面贴上代码。</p><p><img src="http://ww3.sinaimg.cn/large/005yqym4gw1f47qivm38oj30f40m875r.jpg" alt=""></p><p>这里我在pro，free文件中各自新建了一个自定义的MyView，里面代码很简单</p><p>free:</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">MyView</span><span class="params">(Context context)</span>&amp;#123</span>;</span><br><span class="line"> <span class="keyword">super</span>(context);</span><br><span class="line"> LayoutInflater inflater =  (LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);</span><br><span class="line"> View inflate = inflater.inflate(R.layout.free, <span class="keyword">null</span>);</span><br><span class="line"> setContentView(inflate);</span><br><span class="line"> &amp;#125;</span><br></pre></td></tr></table></figure><p>pro:</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">MyView</span><span class="params">(Context context)</span> &amp;#123</span>;</span><br><span class="line"><span class="keyword">super</span>(context);</span><br><span class="line">LayoutInflater inflater = (LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);</span><br><span class="line">View inflate = inflater.inflate(R.layout.pro, <span class="keyword">null</span>);</span><br><span class="line">setContentView(inflate);</span><br><span class="line">&amp;#125;</span><br></pre></td></tr></table></figure><p>然后我们就可以在main文件中的Activity去调用他们了。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">viewById.setOnClickListener(new View.OnClickListener() &amp;#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> &amp;#123</span>;</span><br><span class="line">MyView myView = <span class="keyword">new</span> MyView(Activity.<span class="keyword">this</span>);</span><br><span class="line">myView.show();</span><br><span class="line">&amp;#125;</span><br><span class="line">&amp;#125;);</span><br></pre></td></tr></table></figure><p>这里自定义的一个dialog，你自定义啥都行，你也可以写Activity，然后main里面跳转，都是可以的。<br>如果想把pro的apk名字改一下也和简单，正常处理就好了，在strings.xml目录中加入app_name就好了，然后下面到了最后一步</p><p><img src="http://ww3.sinaimg.cn/large/005yqym4gw1f47mqtf8bqj30n40ew41b.jpg" alt=""></p><p><img src="http://ww1.sinaimg.cn/large/005yqym4gw1f47mras6nnj30lk0bqjs9.jpg" alt=""></p><p>可以看到这里有四个版本，分别对应我们设置的debug，release版本，选择运行，这样就可以在手机上面显示我们自己的两个apk了!!!</p><p>这里需要注意的是我们新建flavors文件要看好了，注意它们的依赖关系，我们新建的布局文件记得依赖当前文件，不是依赖main文件哦。不然会出问题的！</p><p>参考文章<br><a href="http://chobitly.github.io/2016/02/05/Android-Gradle-Build/" target="_blank" rel="noopener">利用 Android Studio 和 Gradle 打包多版本APK</a></p><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> AndroidStudio </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AndroidStudio </tag>
            
            <tag> Gradle </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Mac上的一些高效而又不为人知的小工具</title>
      <link href="/2016/05/11/mac-efficient-tools/"/>
      <url>/2016/05/11/mac-efficient-tools/</url>
      <content type="html"><![CDATA[<p>网上也有很多的介绍如何玩转你的Mac，For example<a href="https://www.zhihu.com/question/20873070" target="_blank" rel="noopener">程序员如何优雅地使用 Mac？</a>知乎的这一篇就很不错，当然还有很多，但是今天我还要去写，写我自己一直在用的，而且用的很给力的一些小工具介绍给大家。</p><a id="more"></a><p>用Mac也快一年了，先晒一下我一直在用的一些(多图预警，请注意)</p><p><img src="http://ww2.sinaimg.cn/large/005yqym4gw1f3r9ibobpsj31kw0teah0.jpg" alt="-c"><br><img src="http://ww3.sinaimg.cn/large/005yqym4gw1f3r9m466a8j31kw0u6n48.jpg" alt="-c"><br><img src="http://ww3.sinaimg.cn/large/005yqym4gw1f3r9o6ci0fj31kw0fctbk.jpg" alt="-c"><br><img src="http://ww4.sinaimg.cn/large/005yqym4gw1f3r9noms48j31kw0etq53.jpg" alt="-c"><br><img src="http://ww3.sinaimg.cn/large/005yqym4gw1f3r9l0rgmyj31kw08xjtc.jpg" alt="-c"></p><p>当然还有一些例如QQ，微信，邮箱等啊，这些基本属于必备用品了，这里不多说，上面晒出的5张图是我的5个分类，大家可能也能看出来，这里捡一些好玩而且经常用到的Application来一起看看。</p><ul><li><a href="https://github.com/mortenjust/droptogif" target="_blank" rel="noopener">Drop to Gif</a></li></ul><p>见名知意，就是将我们平时的一些小视频转成GIF的一个小工具。附上他的一个使用效果<br><img src="https://raw.githubusercontent.com/mortenjust/droptogif/master/ux/demos/demo_dragon.gif" alt="-c"></p><ul><li><a href="https://www.mediaatelier.com/CheatSheet/" target="_blank" rel="noopener">CheatSheet</a></li></ul><p>CheatSheet 做的事情很简单，就是在你使用任何软件的时候，长按Command键，即可显示当前软件的所有快捷键。通过这个提示功能，便能快速地找到你想要的快捷键.下面是在Android Studio上面的使用情景<br><img src="http://ww3.sinaimg.cn/large/005yqym4gw1f3rel5vvwcj31ci0gvq7z.jpg" alt="-c"></p><ul><li>Sip</li></ul><p>之前推荐的ColorPicker，但是最近却在App Store上面发现了一个更给力的吸色工具，那就是Sip，<br>具体可以去App Store上面看，强大啊<br><img src="http://ww3.sinaimg.cn/large/005yqym4gw1f4fhzvo0v5j30ok1cy44p.jpg" alt="-c"></p><ul><li><a href="http://www.cockos.com/licecap/" target="_blank" rel="noopener">licecap</a></li></ul><p>Mac上面小巧的GIF格式录屏App，用户可以自定帧率和录制范围<br><img src="http://ww1.sinaimg.cn/large/005yqym4gw1f3rhylk54rj30o50hqacz.jpg" alt="-c"></p><ul><li><a href="https://www.alfredapp.com/" target="_blank" rel="noopener">Alfred2</a></li></ul><p>可以替代Mac本家的Spotlight搜索的一款自定义的搜索App，这是一款收费软件，如果想玩workflow就要付费了。。。。<br>使用的话看他就够了<br><a href="https://www.zhihu.com/question/20656680" target="_blank" rel="noopener">借助 Alfred 2 的 Workflows 功能可以做哪些好玩的事情？</a><br><a href="http://www.jianshu.com/p/98f53faabbff" target="_blank" rel="noopener">小白使用</a><br><img src="http://ww1.sinaimg.cn/large/005yqym4gw1f3ri13w75uj30xu0hodig.jpg" alt="-c"></p><ul><li><a href="http://www.smartisan.com/apps/smartfinder" target="_blank" rel="noopener">SmartFinder</a></li></ul><p>一款Mac与Android机无缝连接的App，方便自如地管理您在 Android 手机中的内容，锤子出品！<br><img src="http://ww3.sinaimg.cn/large/005yqym4gw1f3rf7m037fj307g0iq74s.jpg" alt="-c"></p><ul><li><a href="http://snip.qq.com/" target="_blank" rel="noopener">Snip</a></li></ul><p>一款简单的截图工具，可以滚动截屏</p><ul><li><a href="https://macid.co/" target="_blank" rel="noopener">MacID</a></li></ul><p>可以根据手机的蓝牙信号强度（设备间距离越大信号越弱）来控制是否自动解锁或者锁定 Mac。新版本的 MacID 还支持在设备间传递剪贴板内容，感觉又可以少装一个剪贴板传递的应用。<br><a href="http://sspai.com/32055" target="_blank" rel="noopener">教程</a><br><img src="http://ww3.sinaimg.cn/large/005yqym4gw1f3rfcoov8cj306f08u3yy.jpg" alt="-c"></p><ul><li><a href="http://www.getmarkman.com/" target="_blank" rel="noopener">Mark Man</a></li></ul><p>一款设计稿标注，测量工具。极大节省设计师在设计稿上添加和修改标注的时间，让设计更有爱哦<br><img src="http://www.getmarkman.com/static/img/functions.png" alt="-c"></p><ul><li><a href="http://enjoygineering.com/mounty/" target="_blank" rel="noopener">Mounty</a></li></ul><p>安装<code>brew cask install mounty</code>，Mounty 这个小软件虽然小但是功能挺实用的. 当你插入 NTFS 硬盘后会提示是否创新加载成读写模式. 尤其是写入模式很重要. 因为 Mac OS X 默认没有开启 NTFS 的写入模式. 这样不在需要安装其他软件就可以对 Windows 的 NTFS 硬盘进行复制文件操作啦.当有硬盘接入的时候会显示是否装载成写入模式 , 点击 YES 即可. </p><ul><li><a href="http://manico.im/" target="_blank" rel="noopener">Manico</a></li></ul><p>是一个为 OS X 设计的快速的 App 启动和切换工具，网站上面说的很清楚了已经这里就不阐述了。<br><img src="http://ww2.sinaimg.cn/large/005yqym4gw1f3rfja6g8sj30c401g74f.jpg" alt="-c"></p><ul><li>iSart Menus</li><li>Dr Cleaner</li></ul><p>一款OSX App，清理磁盘和内存，应用程序卸载，系统优化，App Store上面即可下载，今天刚更新的，已经集成了iStart Menus的功能，所以上面的就没介绍了。<br><img src="http://a1.mzstatic.com/us/r30/Purple18/v4/5a/07/18/5a071851-0448-bb01-245f-cb2e1e95c66c/screen800x500.jpeg" alt="-c"></p><ul><li><a href="http://unarchiver.c3.cx/unarchiver" target="_blank" rel="noopener">The Unarchiver</a></li></ul><p>一款小巧的解压缩App，可以使用它解压多达30种不同的压缩格式文件</p><ul><li><a href="http://www.deprez.org/folio_0028_en.html" target="_blank" rel="noopener">ShowOrHide</a></li></ul><p>简单的替换了命令行，可查看隐藏文件的一个小巧的App，简单的不要不要的<br><img src="http://ww2.sinaimg.cn/large/005yqym4gw1f3rfpyi9b1j30ha07qjrx.jpg" alt="-c"></p><ul><li><a href="https://github.com/mortenjust/androidtool-mac" target="_blank" rel="noopener">AndroidTool</a></li></ul><p>代替了你的<code>adb install xx.apk</code>，点击apk就可安装到你手机的一个玩意。还可以对你的手机进行录屏操作，可以去官网查看<br><img src="https://raw.githubusercontent.com/mortenjust/androidtool-mac/master/Demos/installapk.gif" alt="-c"></p><ul><li><a href="https://pqrs.org/osx/karabiner/" target="_blank" rel="noopener">Karabiner</a></li></ul><p>这是一个自定义键盘的一个小软件，用外接机械键盘的小伙伴可以用到这玩意哦。<br><img src="http://ww1.sinaimg.cn/large/005yqym4gw1f3rfwxobnqj30m7091abi.jpg" alt="-c"></p><ul><li><a href="https://www.teamviewer.com/zhCN/?pid=google.tv_ex_en.s.jp&amp;gclid=CjwKEAjwjca5BRCAyaPGi6_h8m8SJADryPLhHxJXh62UA28rzsuE-IpI76BwkQOE6XpGH7XyLAGjiRoCceXw_wcB" target="_blank" rel="noopener">teamViewer</a></li></ul><p>远程协作的一个在线会议软件。<br><img src="http://ww3.sinaimg.cn/large/005yqym4gw1f3rfz9dvtjj30np0c7401.jpg" alt="-c"></p><ul><li><a href="https://bitbucket.org/galad87/subler/wiki/Home" target="_blank" rel="noopener">Subler</a></li></ul><p>是一个讲视频和字幕合成一体的一个软件。我们有时候看美剧可能没有字幕，但是我们又下载了字幕，还要导入或者一些什么，但是有了这个东西就方便了，我们直接合成就好了。最后file－save<br><img src="http://ww1.sinaimg.cn/large/005yqym4gw1f3rg34px9oj31280i6q7c.jpg" alt="-c"></p><ul><li><a href="https://lastpass.com/zh-hans/" target="_blank" rel="noopener">LastPass</a></li></ul><p>Mac上面的密码管理工具，需要付费，LastPass帮助文档,入门够了<br><a href="https://helpdesk.lastpass.com/zh/" target="_blank" rel="noopener">help文档</a></p><ul><li><a href="http://dcloud.io/" target="_blank" rel="noopener">HBuilder</a></li></ul><p>一款HTML5 IDE，超爽<br><img src="http://ww4.sinaimg.cn/large/005yqym4gw1f3rgcyn6dlj30pl0dv400.jpg" alt="-c"></p><ul><li><a href="https://www.charlesproxy.com/" target="_blank" rel="noopener">Charles</a></li></ul><p>Mac 下常用的网络封包截取工具，付费软件，但是好用的不得了。想驾驭它，看他就够了<br><a href="http://blog.devtang.com/2015/11/14/charles-introduction/" target="_blank" rel="noopener">Charles 从入门到精通</a></p><ul><li><a href="https://www.iterm2.com/" target="_blank" rel="noopener">iTerm</a></li></ul><p>之前有一篇文章介绍过它<a href="http://yupengt66y.wang/2016/01/12/iTermConfiguration/" target="_blank" rel="noopener">iTerm新手必知</a><br>还有一篇文章也不错<a href="https://laoshuterry.gitbooks.io/mac_os_setup_guide/content/4_ZshConfig.html" target="_blank" rel="noopener">iTerm配置</a></p><ul><li><a href="http://zh.mweb.im/" target="_blank" rel="noopener">MWeb</a></li></ul><p>付费买的一个markDown编辑器，Mou，markdown也有用过，感觉总是少点什么，但是用了它之后就想过换啊，去官网看他的牛逼功能介绍吧。有付费版，免费版，如果对他要求不高的话，免费足够用了！！<br><img src="http://ww4.sinaimg.cn/large/005yqym4gw1f3rgmhcj12j31kw0zfgnf.jpg" alt="-c"></p><ul><li><a href="https://www.sourcetreeapp.com/" target="_blank" rel="noopener">SourceTree</a></li></ul><p>如果你对git命令用的不6，那么就来用它吧，英文，中文，都有，免费，功能强大，这些能吸引你吗？<br><img src="https://www.sourcetreeapp.com/images/hero_mac_all.png" alt="-c"></p><ul><li><a href="http://www.sublimetext.com/3" target="_blank" rel="noopener">Sublim Text3</a></li></ul><p>代码编辑器或者文本编辑器，跨平台支持Win/Mac/Linux，支持32与64位，支持各种流行编程语言的语法高亮、代码补全等<br><a href="http://www.jianshu.com/p/3cb5c6f2421c" target="_blank" rel="noopener">如何优雅的使用SublimeText3</a><br><img src="http://ww4.sinaimg.cn/large/005yqym4gw1f3rgtrcp11j31kw0eg0wm.jpg" alt="-c"></p><ul><li><p><a href="https://confluence.jetbrains.com/display/WI/WebStorm+EAP" target="_blank" rel="noopener">WebStormEAP</a></p></li><li><p><a href="https://confluence.jetbrains.com/display/PhpStorm/PhpStorm+Early+Access+Program" target="_blank" rel="noopener">PHPStormEAP</a></p></li></ul><p><a href="https://www.zhihu.com/question/20936155" target="_blank" rel="noopener">webstorm过人之处</a><br>用法自行搜索就好了。</p><p>上面这两款软件都是出自一家，但是要付费，你可以付费，但是挺贵，你可以去找一些破解版的，一个注册码，但是用着感觉不舒服，上面给出的均是EAP版，不用付费，不用破解，功能几乎完全够你用的啦。</p><ul><li><a href="https://mindnode.com/" target="_blank" rel="noopener">MindNote</a></li></ul><p>头脑风暴思维导图软件<br><img src="http://ww4.sinaimg.cn/large/005yqym4gw1f3rgxd18efj31dy0roq4n.jpg" alt="-c"></p><ul><li>Dash</li></ul><p>App Store上面即可下载，程序员的好帮手，强悍的API文档浏览，搜索功能<br><img src="http://ww4.sinaimg.cn/large/005yqym4gw1f3rgzvtp73j30pu0bkq4b.jpg" alt="-c"></p><ul><li><a href="http://www.hopperapp.com/" target="_blank" rel="noopener">Hopper</a></li></ul><p>一款反汇编工具：Hopper，它有OS X和Linux版本，能够反汇编32/64位Mac，Linux，Windows和iOS可执行文件。<br><a href="http://security.ios-wiki.com/issue-3-8/" target="_blank" rel="noopener">Hopper工具使用</a><br>将我们的可执行文件拖进去即可。<br><img src="http://ww2.sinaimg.cn/large/005yqym4gw1f3rh3ii8qej31kw0ben1c.jpg" alt="-c"></p><ul><li><a href="http://weiboformac.sinaapp.com/" target="_blank" rel="noopener">WeiboX</a></li></ul><p>微博的Mac客户端，不介绍<br><img src="http://weiboformac.sinaapp.com/images/screen2.png" alt="-c"></p><ul><li>Moviest</li></ul><p>Mac上面的一个第三方视频播放软件，App Store可下载。</p><p>下面这些参考stormzhang的来看比较好<br><a href="http://stormzhang.com/devtools/2016/01/15/google-chrome-extension/" target="_blank" rel="noopener">私人珍藏的Chrome插件,吐血推荐</a></p><ul><li>Chrome ADB</li><li>Vysor</li><li>Postman</li><li>pocket</li><li>momentum</li><li>YouTube</li><li>Gliffy Diagrams</li></ul><p>介绍一下最后一个，一个专业的流程图软件<br><img src="http://ww3.sinaimg.cn/mw690/005yqym4gw1f3rhawlj1sj31kw0rp7d0.jpg" alt="-c"></p><p>以上这些去<br><a href="https://chrome.google.com/webstore/category/extensions?hl=zh-CN" target="_blank" rel="noopener">Chrome网上商店</a><br>均可下载。</p><ul><li><a href="https://evernote.com/intl/zh-cn/download/" target="_blank" rel="noopener">Evernote</a></li></ul><p>印象笔记，用这个可以将我们在chrome上浏览好的内容保存在我们印象笔记中，去下载插件就好了<br><img src="http://ww4.sinaimg.cn/large/005yqym4gw1f3rhf4nxlcj30cn02g3yo.jpg" alt="-c"></p><p>还有一个给力的地方就是我们用微信关注他的官方公众号，然后将我们在公众号上面看到的好文章保存到我们的印象笔记中，岂不是极好极好的。</p><ul><li>PDF Reader</li></ul><p>PDF阅读软件，App Store即可下载。</p><ul><li><a href="https://www.wunderlist.com/zh/" target="_blank" rel="noopener">奇妙清单</a></li></ul><p>计划你的一些日程，随时收到提醒，跨平台让你的生活保持同步。<br><img src="http://ww1.sinaimg.cn/large/005yqym4gw1f3rhjvzfk6j31cs0tc460.jpg" alt="-c"></p><p>这里还有一些Chrome的插件介绍，<br><img src="http://ww3.sinaimg.cn/large/005yqym4gw1f3rhkxtayfj30gj032q33.jpg" alt="-c"></p><p>一个广告屏蔽插件<br><img src="http://ww3.sinaimg.cn/large/005yqym4gw1f3rhlnp45cj30gn039t8u.jpg" alt="-c"></p><p>见名知意<br><img src="http://ww4.sinaimg.cn/large/005yqym4gw1f3rhm52yb1j30g903d0st.jpg" alt="-c"></p><p>下两个见stormzhang博客<br><img src="http://ww4.sinaimg.cn/large/005yqym4gw1f3rhmlcrrjj30fu034dfw.jpg" alt="-c"></p><p><img src="http://ww4.sinaimg.cn/large/005yqym4gw1f3rhn0irrkj30g203274e.jpg" alt="-c"></p><ul><li><a href="http://zythum.sinaapp.com/youkuhtml5playerbookmark/" target="_blank" rel="noopener">妈妈再也不用担心我的macbook发烫了</a></li></ul><p><img src="http://ww1.sinaimg.cn/large/005yqym4gw1f3rhnim0duj30fx02lweg.jpg" alt="-c"></p><p>一个很好用的博客图片链接生成插件(微博图床)</p><p><img src="http://ww1.sinaimg.cn/large/005yqym4gw1f3rhnu7jtrj30g60323yp.jpg" alt="-c"></p><ul><li><a href="http://git.oschina.net/sinceow/LunarCalendar#git-readme?utm_source=www.appinn.com" target="_blank" rel="noopener">Mac上面一款万年历</a></li></ul><p><img src="http://ww4.sinaimg.cn/large/005yqym4gw1f4lme9q34oj31820ogtco.jpg" alt="-c"><br>怎么样，还可以吧</p><ul><li><a href="https://www.trankynam.com/xtrafinder/" target="_blank" rel="noopener">XtraFinder多样化你的Finder</a></li></ul><p>可以像chrome浏览器一样，tab多开，可以拷贝路径，可以右键新建文件，文件夹…..反正事中文版的，去设置里面看一下，就知道有没有你想要的啦！！</p><p>还有就是百度云盘在Mac上面基本是难用到恶心啊，这里之前我也说过可以有一个插件帮我们搞定这恶心的事情<br><a href="http://blog.csdn.net/dakaring/article/details/46517073" target="_blank" rel="noopener">百度云盘在Mac上的威力</a></p><p>还有一些Mac本身的小技巧<br><a href="http://bbs.feng.com/read-htm-tid-5175817.html" target="_blank" rel="noopener">你可能不知道的小技巧</a><br>Mac上面用机械键盘的壕友们这里也有你们的福利<br><a href="http://bbs.feng.com/read-htm-tid-8746599.html" target="_blank" rel="noopener">OS X下机械键盘的设置和技巧（不仅仅是改苹果键）</a><br><a href="http://www.zhihu.com/question/35050387/answer/72185393?f3fb8ead20=fe19159a03463a82562355da6b7bda6d" target="_blank" rel="noopener">OSX 下一些冷门但是一旦发现就无法自拔的软件</a><br>谢谢你在这多图预警下看到这里了，这里面肯定有你用到的也有你没有用到的，哪怕只有一个能帮助你，也值了啊！</p><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> 工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mac小工具 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>小白学Android之adb篇(三)</title>
      <link href="/2016/04/18/adb-study-03/"/>
      <url>/2016/04/18/adb-study-03/</url>
      <content type="html"><![CDATA[<p>我们之前一起看了adb和adb logcat的一些简单命令，今天我们在一起来看看adb还有什么好玩的值得我们说的。<br>如何通过adb命令来安装一个App和卸载一个App，简单的命令就可以简化我们的手动安装与卸载<br><code>adb install test.apk</code> || <code>adb unistall test.apk</code><br>简单的两行命令实现我们的需要。</p><a id="more"></a><p>试想一下如果我们有这么一个需求，在测试的时候如果之前有一台手机安装过这个App，但是如果版本不一样，继续去安装，就会提示已存在，请卸载在安装，但是又没有命令帮我们，卸载还有安装同步执行哪，当然有了，<br><code>adb install -r test.apk</code><br>-r就是replace的意思，明白了吧。<br>上面只是一些很简单，很小儿科的东西，下面我们讲一些高级一点，好玩的东西。<br><code>adb pm || adb am || adb wm</code><br>这是三个很重要的命令<br>pm就是PackageManager，am就是ActivityManager，wm就是WindowManager。<br>下面我们依次来看一看。<br><strong>pm</strong><br>试想我们有这么一个需求，就是我们所说的启动页，我们平时开发要做App的启动页大多数用Sp去做，但是这东西只有App第一次安装的时候才会出现，所以我们如果想测试，就必须卸载App然后安装App在进行测试，有没有命令帮我们搞定哪，有的同学会说了上面不是有卸载＋安装的命令啊，确实，但是这样显得有点Low，下面我们可以这样做。<br><code>adb shell pm clear packageName</code><br>清空我们App的缓存，相当于App第一次安装。<br>可能有的人又说了，我们自己的App可能知道包名，其他的怎么办哪？当然也是有办法的，<br><code>adb shell pm list package</code><br>查看手机所有的包名。<br>在这些输出打印当中你可能会发现有手机系统自己的系统包名，有我们安装的第三方应用的包名，那这样可不可以区分哪，当然也是可以的。<br><code>adb shell pm list package -3</code> || <code>adb shell pm list package -s</code><br>前者是列出第三方包名，后者是列出系统包名。<br>我们还可以查看这些App的安装来源，路径。<br><code>adb shell pm list package -i</code> || <code>adb shell pm list package -f</code><br>还有一个命令打印出来的信息太全面了<br><code>adb shell pm dump packageName</code><br>源码在此，这个网站可以很好的帮我们在线查看Android源码<a href="http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.4.2_r1/com/android/commands/pm/Pm.java#Pm" target="_blank" rel="noopener">Pm.java</a><br>下面我们来看<strong>am</strong><br>顾名思义，通过它我们可以启动一些和四大组件相关的东西。<br>for example我们通过它来打开一个网页<br><code>adb shell am start -a android.intent.action.VIEW -d http://www.baidu.com</code><br>神奇的一幕出现，回车，手机上面自己打开了一个网页。<br>如果我们还想让它打电话<br><code>adb shell am start -a android.intent.action.CALL -d tel:10086</code><br>刚刚说了是启动四大组件，那肯定是和他们有关系啊。<br>启动一个service<br><code>adb shell am startservice -n packageName/claaName</code><br>解释一下，为什么上面是-a，这个是-n实际上这个地方写-n也行，区别就是-a是action的意思，-n是name的意思，service的路径一定要写全。<br><code>adb shell am broadcast -a actionname</code><br><code>adb shell am startactivity -n classname</code><br>不解释。<br>Am源码在此<a href="http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.4.4_r1/com/android/commands/am/Am.java#Am" target="_blank" rel="noopener">Am.java</a><br>最后一个看看<strong>Wm</strong><br>是和手机屏幕打交道的一个命令。<br>它可以帮我们取出手机的尺寸，密度等信息<br><code>adb shell wm size</code><br><code>adb shell wm density</code><br>一个尺寸一个密度，完美<br>源码在此<a href="http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/5.1.0_r1/com/android/commands/wm/Wm.java?av=f" target="_blank" rel="noopener">Wm.java</a><br>今天的东西比较实用，后面可能还会继续去写这个东西，最近爱上了命令这个东西，因为Mac上面的终端实在是太可爱了，各位晚安，夜深了！！！！</p><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android奇技淫巧 </tag>
            
            <tag> adb </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>小白学Android之adb篇(二)</title>
      <link href="/2016/04/14/adb-study-02/"/>
      <url>/2016/04/14/adb-study-02/</url>
      <content type="html"><![CDATA[<p>上一篇我们一起来看过adb的基础用法，这一次我们一起来看看adb logcat的用法</p><a id="more"></a><p>它在as中是长这样的<br><img src="http://ww2.sinaimg.cn/mw690/005yqym4gw1f2wbnkbwudj31fu062gmc.jpg" alt=""><br>这是界面化的，今天要说的是他的命令，有几个比较实用而且比较重要的。<br>第一篇就说过学命令之前把他的help敲出来看看是什么，我们敲了<br><code>adb logcat --help</code><br>出来下面这些，仅部分，可自敲看看。<br><img src="http://ww3.sinaimg.cn/mw690/005yqym4gw1f2wbnt37x6j30z10cxwhz.jpg" alt=""><br><img src="http://ww4.sinaimg.cn/mw690/005yqym4gw1f2wbnzztsnj30yr05i74n.jpg" alt=""></p><p>有人会提出这样的质疑，as里面的logcat不是很好用吗，而且还很友好，但是不知道你有没有遇到这种情况，就是有某几款手机是没有log的或者在茫茫log中找我们的报错原因，甚至还找不到，或者有的就是一闪而过的log，是不是有种想骂街的冲动，没事，我们不是还有命令啊。<br>下面我以一个简单的demo来看看今天的logcat，在你的终端当中输入<code>adb logcat</code>会把你所有的log都输出来，这肯定不是我们想要的，我们要对他进行过滤，先看看as中的输出</p><p><img src="http://ww3.sinaimg.cn/mw690/005yqym4gw1f2wbo85g6hj30j70c5dke.jpg" alt=""><br>我对他进行了过滤显示这样，我们在终端只需这样，</p><p><code>adb logcat -s test</code><br><img src="http://ww1.sinaimg.cn/mw690/005yqym4gw1f2wbodkaa5j30yh0gbjul.jpg" alt=""><br>后面的test就是我们所说的tag，过滤 输出就这样，如果你继续操作，adb logcat只会累加，我们能不能执行一次，log就是我们所需要的那，可以，就是把之前的清掉就好了，<br><code>adb logcat -c</code><br>执行清空操作。已经简单了解过后我们下面来看看adb logcat -v这个命令<br><code>adb logcat -v --help</code><br><img src="http://ww3.sinaimg.cn/mw690/005yqym4gw1f2wbojlzgzj30ym0hv0y6.jpg" alt=""></p><p>下面我们一起来看看其中的几个<br><code>adb logcat -v time -s test</code><br><img src="http://ww3.sinaimg.cn/mw690/005yqym4gw1f2wbopj8bmj30yp0d70wi.jpg" alt=""><br>打印时间这一列</p><p><code>adb logcat -v process -s test</code><br><img src="http://ww2.sinaimg.cn/mw690/005yqym4gw1f2wbowpmonj30ym0crjts.jpg" alt=""><br>打印进程这一列</p><p><code>adb logcat -v raw -s tag</code><br><img src="http://ww3.sinaimg.cn/mw690/005yqym4gw1f2wbp4oeefj30yl0arwfr.jpg" alt=""><br>只打印我们log的内容，没有tag等其他信息</p><p><code>adb logcat -v long -s tag</code><br><img src="http://ww1.sinaimg.cn/mw690/005yqym4gw1f2wbpayyinj30ym0hxn09.jpg" alt=""><br>几乎会把所有的log信息给我们</p><p><code>adb logcat|grep -s tag</code><br><img src="http://ww4.sinaimg.cn/mw690/005yqym4gw1f2wbpgqre6j30yo09ggnb.jpg" alt=""><br>前面输出的内容当作grep的输入内容作为检索条件过滤</p><p><code>adb logcat -c&amp;&amp;adb logcat -s tag</code><br><img src="http://ww3.sinaimg.cn/mw690/005yqym4gw1f2wbpmdsdpj30ym07975i.jpg" alt=""><br>先清除再打印。</p><p><code>adb logcat -s AndroidRuntime</code><br><img src="http://ww3.sinaimg.cn/mw690/005yqym4gw1f2wbps6155j30yq0e7gt9.jpg" alt=""><br>当我们应用程序崩溃时有一些异常是捕捉不到的。这一招是很有用的</p><p><code>adb logcat&gt;&gt;log.txt</code><br><img src="http://ww4.sinaimg.cn/mw690/005yqym4gw1f2wbpxmqkfj30h301d0ss.jpg" alt=""><br>将我们的log信息导出到文件当中</p><p>下面用vim打开<br><code>vim log.txt</code><br><img src="http://ww2.sinaimg.cn/mw690/005yqym4gw1f2wbq7vfbmj30ys07qjvm.jpg" alt=""><br>已经把log写入了。成功</p><p>今天的logcat就先到这里吧</p><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android奇技淫巧 </tag>
            
            <tag> adb </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>小白学Android之adb篇(一)</title>
      <link href="/2016/04/12/adb-study/"/>
      <url>/2016/04/12/adb-study/</url>
      <content type="html"><![CDATA[<p>今天我们开始学习adb了！！！</p><a id="more"></a><p>Android开发中从Eclipse到现在的AndroidStudio，ADB起了主导作用，但是我们真正用命令来操控adb的时候并不多，开始windows上面的adb，经常被别人占用端口，现在换了Mac，这些困扰的问题也少了很多。<br>今天就和大家一起来学习学习adb的使用，开篇比较简单。adb在sdk中的platform-tools下，我们要把他配置到环境变量下，基于Mac。可以看我之前的一篇<a href="http://blog.csdn.net/dakaring/article/details/48295515" target="_blank" rel="noopener">快速配置adb</a>这里就不说了。</p><p><code>adb version</code></p><p>显示<br><code>Android Debug Bridge version 1.0.35Revision 102d0d1e73de-android</code><br>这是我的adb版本，我们能看出来，adb的全称Android Debug Bridge。</p><p>我们在使用任何命令之前记得敲他的help肯定没有错，我们输入<br><code>adb help</code><br>这里只贴出一部分<br><img src="http://ww1.sinaimg.cn/mw690/005yqym4gw1f2tr3meonxj30p10lote8.jpg" alt=""><br>如果你对英文技术文档很敏感，完全可以自己明白这些命令的意思，无非就是adb后面加上他呗。下面我们捡几个重要的一起来看一下。<br>我们一起来看一下，如果我们想知道我们的电脑上有几个设备，输入<br><code>adb devices</code><br><img src="http://ww1.sinaimg.cn/mw690/005yqym4gw1f2tuy7z0j8j318y0500ts.jpg" alt=""><br>我这里有两个，一个是模拟器，一个是真机，那么我们如果要想针对某一个机器进行操作，我们输入<br><code>adb shell</code><br>但是给我们的却不是我们想要的，<br><code>error: more than one device/emulator</code><br>这并没有什么问题，因为你执行这么一句，机器并不知道你是要操作真机还是模拟器，所以我们要把他的序列码加上就好了。指定设备进行操作。<br>help中有这么一行命令<img src="http://ww2.sinaimg.cn/mw690/005yqym4gw1f2ts7f77fkj30mj019q30.jpg" alt=""><br>然后我门这样来搞，<br><code>adb -s 4e934820 shell</code><br>这里我们对我们的真机进行操作，回车这里已经成功进入到我们的真机，输入ls，查看真机的所有目录<br><img src="http://ww2.sinaimg.cn/mw690/005yqym4gw1f2tuzcjzkmj318y0rqn2m.jpg" alt=""><br>输入exit退出。还有一种方法感觉高大上，还是回顾我们的help命令有这么两行，可以简单帮我们搞定<img src="http://ww3.sinaimg.cn/mw690/005yqym4gw1f2ts857ayhj30mm03awf0.jpg" alt=""><br>-d 也就是我们的USBDevice<br>-e 也就是我们的emulator。<br>上面输入序列码的操作可以简单成<br><code>adb -d shell</code>|| <code>adb -e shell</code><br>直接对真机或者模拟器进行操作。<br>我们已经成功打入到我们的设备内部，那如果我们想从设备中拿我们需要的东西怎么办，或者把我们电脑上的东西放到我们的设备中去怎么办<br><img src="http://ww2.sinaimg.cn/mw690/005yqym4gw1f2ts8edkccj30kf03zwf2.jpg" alt=""><br>help中有这么两个命令，是不是很熟悉，和我们在git中使用的场景含义差不多，如果你想把你想把你电脑上的东西放到设备中去，执行push吧，反之执行pull吧。干巴巴的说没意思，我们在终端上玩一把<br><img src="http://ww3.sinaimg.cn/mw690/005yqym4gw1f2tv1tgzwbj318s0aego9.jpg" alt=""><br>我们对Desktop进行ls，上面有一个API_KEY.txt文件，我们打算把它推送到我们的真机上面，下面来看看<br><img src="http://ww1.sinaimg.cn/mw690/005yqym4gw1f2tv3gryshj318y02sdgo.jpg" alt=""><br>我们来看看手机里面有吗<br><img src="http://ww4.sinaimg.cn/mw690/005yqym4gw1f2tv5cxs86j318s02oq3i.jpg" alt=""><br>发现已经成功的推到我们的设备了，反之我们怎么办，把API_KEY.txt拿到我们的电脑上面，首先我们把电脑上的rm掉<br><code>rm API_KEY.txt</code><br>然后<br><img src="http://ww3.sinaimg.cn/mw690/005yqym4gw1f2tv6itt1fj318w02egme.jpg" alt=""><br>此时已经成功放到我们的桌面了。</p><p>下一篇会和大家一起来看看adb logcat的用法</p><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android奇技淫巧 </tag>
            
            <tag> adb </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>SublimeText查看Android源码配置</title>
      <link href="/2016/03/17/SublimeText-AndroidSourceConfig/"/>
      <url>/2016/03/17/SublimeText-AndroidSourceConfig/</url>
      <content type="html"><![CDATA[<p>之前在Windows上面是用Source Insight查看源码，换做Mac开发之后发现SublimeText(下面简称ST)也很棒，之前一直在简单的用，还有一些奇技淫巧没发现，最近想好好的用下他，才把他通通的配置了一番。记录记录，有技巧，有填坑。</p><a id="more"></a><p> 首先你要下载ST，还有Android源码。才能接着往下走。</p><h3><span id="安装package-control插件">安装Package Control插件</span></h3><p>首先打开控制台：view-&gt;showConsole<br>然后输入以下代码，回车</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import urllib.request,os; pf = 'Package Control.sublime-package'; ipp = sublime.installed_packages_path(); urllib.request.install_opener( urllib.request.build_opener( urllib.request.ProxyHandler()) ); open(os.path.join(ipp, pf), 'wb').write(urllib.request.urlopen( 'http://sublime.wbond.net/' + pf.replace(' ','%20')).read())</span><br></pre></td></tr></table></figure><p>等一会，重启ST，然后到Preferences里面看一下是否有Package Control，有你就成功了。</p><h3><span id="安装ctags">安装CTags</span></h3><p>打开你刚刚安装的Package Control，接着输入install package，回车，然后输入ctag，出现的话就是你没安装过，没有的话你已经安装过。可以到Preference -&gt; Browse Packages里面查看你安装过的插件。<br>直接Open你的文件，这时你在打开的文件中，右键菜单中会多一个Navigate to Definition菜单项，在侧左栏的工程/项目文件上右键会看到CTags: Rebuild Tags菜单项，这种种迹象表明你已经安装成功，只是安装成功，能不能使用，再说。</p><h3><span id="使用ctags">使用Ctags</span></h3><p>如果你右键看到CTags: Rebuild Tags菜单项，并点击它，下面会出现.tags文件，则已经成功，可以直接跳到下一步。如果没有的话，你要检查一下你Open的文件路径是不是中文路径，或者根据情况来定位。</p><h3><span id="ctags配置">Ctags配置</span></h3><p>一切Ctags默认的属性设置都在Preference -&gt;PackageSetting-&gt;Ctags下面。我们需要做的是首先将Setting default中的配置全部复制到user中，然后改一下command配置项，为ctags的可执行文件路径/usr/local/bin/ctags。默认的点击方法跳转的快捷键是ctrl+shift+鼠标左键，我们可以将其修改了，我们把Mouse Binding default中的配置全部复制到user中，然后修改modifiers中的属性，将其全部改为command，这样就OK了。</p><h3><span id="一些快捷键">一些快捷键</span></h3><p>Command+P：查找文件<br>Command+R：查找方法<br>Command+左键：文件或函数跳转<br>Command+右键：返回文件或函数跳转的原始位置</p><h3><span id="另外推荐几个st的插件">另外推荐几个ST的插件</span></h3><p>我们在使用AS的时候，格式化代码是一件很爽的事情，command+alt+L，格式化代码，但是在ST上面一个插件也可以实现Alignment，安装方法同上，快捷键是ctrl+shift+A。所有的插件都是通过install  package进行查找安装的。</p><p>推荐：<br><a href="https://www.zhihu.com/question/24896283" target="_blank" rel="noopener">Sublime Text 有哪些使用技巧？</a><br><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> 工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android奇技淫巧 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>EventBus的一些记录</title>
      <link href="/2016/03/15/ThinkInEventBus/"/>
      <url>/2016/03/15/ThinkInEventBus/</url>
      <content type="html"><![CDATA[<p>之前项目中用到过EventBus，之前只是单纯的用，最近在项目中再一次拿出来，就记录一下吧，当复习了。看下面的GIF，大致的表达了EventBus的工作形式。</p><p><img src="http://ww1.sinaimg.cn/large/005yqym4gw1f1zujk8yshg30b40jg41p.gif" alt=""></p><a id="more"></a><h3><span id="简介">简介</span></h3><p>借Github上面一张图来看一下EventBus是怎么工作的吧，</p><p><img src="https://github.com/greenrobot/EventBus/raw/master/EventBus-Publish-Subscribe.png" alt=""></p><p>Eventbus是一个事件优化管理平台，可以将它想像成Android BroadCast&amp;BroadcastReceiver的轻量版，以事件驱动的方式来简化事件处理逻辑，平时开发是以callback或handler来达到类似效果。如果物件之间传递经过太多其他物件；或是一个信息经过太多物件，EventBus将会是一个不错的选择。优点是开销小，代码更优雅。以及将发送者和接收者解耦。</p><h3><span id="使用场景">使用场景</span></h3><p>我们试想一个简单的场景，在Profile页面，我们想修改我们的个人资料，进入到修改资料页面，修改成功返回到Profile页面，我们要将修改成功的资料显示到当前页面，一种是在Profile页面onResume方法中重新进行一次网络请求，另一种就是用事件传递，我们今天讲的，是第一种用户体验好，还是第二种体验好，可想而知，这只是一个简单的使用场景，我们还可以跨页面进行事件传递等等更深奥的用法。</p><h3><span id="如何使用">如何使用</span></h3><h4><span id="1-gradle中-compile-39orggreenroboteventbus30039">1. gradle中 <code>compile &#39;org.greenrobot:eventbus:3.0.0&#39;</code></span></h4><h4><span id="2-定义自己的事件">2. 定义自己的事件</span></h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WhateverEvent</span> &amp;#123</span>; </span><br><span class="line"><span class="comment">/*事件可任意String, int, Object...*/</span> </span><br><span class="line">    <span class="keyword">private</span> String message</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WhateverEvent</span><span class="params">(String message)</span>&amp;#123</span>;</span><br><span class="line">        <span class="keyword">this</span>.message = message;</span><br><span class="line">    &amp;#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMessage</span><span class="params">()</span>&amp;#123</span>;</span><br><span class="line">        <span class="keyword">return</span> message;</span><br><span class="line">&amp;#125;</span><br></pre></td></tr></table></figure><h4><span id="3-注册反注册eventbus">3. 注册，反注册EventBus</span></h4><p>getDefault()为EventBus中的单例模式<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> EventBus <span class="title">getDefault</span><span class="params">()</span> &amp;#123</span>;</span><br><span class="line">        if (defaultInstance == null) &amp;#123;</span><br><span class="line">            synchronized (EventBus.class) &amp;#123;</span><br><span class="line">                if (defaultInstance == null) &amp;#123;</span><br><span class="line">                    defaultInstance = <span class="keyword">new</span> EventBus();</span><br><span class="line">                &amp;#125;</span><br><span class="line">            &amp;#125;</span><br><span class="line">        &amp;#125;</span><br><span class="line">        <span class="keyword">return</span> defaultInstance;</span><br><span class="line">    &amp;#125;</span><br></pre></td></tr></table></figure></p><p>也可以建立自定义的EventBus。<br>注册,反注册的代码是这样的。<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> &amp;#123</span>;</span><br><span class="line">    ...</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onResume</span><span class="params">()</span> &amp;#123</span>;</span><br><span class="line">        <span class="keyword">super</span>.onResume();</span><br><span class="line">        EventBus.getDefault().register(<span class="keyword">this</span>);</span><br><span class="line">    &amp;#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onPause</span><span class="params">()</span> &amp;#123</span>;</span><br><span class="line">        <span class="keyword">super</span>.onPause();</span><br><span class="line">        EventBus.getDefault().unregister(<span class="keyword">this</span>);</span><br><span class="line">    &amp;#125;</span><br><span class="line">   ...</span><br><span class="line">&amp;#125;</span><br></pre></td></tr></table></figure></p><p>记得写unregister()，不然会内存泄露（memory leak）。</p><h4><span id="4订阅事件接收消息">4.订阅事件（接收消息）</span></h4><p>共有四个函数，各功能不同，这里先写其中的一个。<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> &amp;#123</span>;</span><br><span class="line">    ...</span><br><span class="line">    <span class="meta">@Subscribe</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onEvent</span><span class="params">(WhateverEvent event)</span> &amp;#123</span>;</span><br><span class="line">        <span class="comment">/*处理事件*/</span></span><br><span class="line">        Log.i(<span class="string">"TAG"</span>, event.getMessage());</span><br><span class="line">    &amp;#125;;</span><br><span class="line">    ...</span><br><span class="line">&amp;#125;</span><br></pre></td></tr></table></figure></p><p>onEvent() 的paremeter为订阅的事件，也就我们的第二步中我们写的。</p><h4><span id="5传送事件发送消息">5.传送事件（发送消息）</span></h4><p>这个就很简单了<code>eventBus.post(new AnyEventType event);</code><br>大致的介绍了一遍，不知道你们晕了吗，那么上面的GIF图用代码实现，应该就很简单了吧。就是两个Activity，每一个Activity里面又一个Button，然后进行事件的传递。由于我们是在第一个页面点击按钮进入到第二个页面，那么我们在第一个页面注册以及反注册，然后在第二个页面post消息就好了。完整的代码奉上</p><h4><span id="mainactivity">MainActivity：</span></h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> &amp;#123</span>;</span><br><span class="line">    TextView tv_event_info;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> &amp;#123</span>;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        <span class="comment">//注册eventbus</span></span><br><span class="line">        EventBus.getDefault().register(<span class="keyword">this</span>);</span><br><span class="line">        tv_event_info = (TextView) findViewById(R.id.text);</span><br><span class="line">    &amp;#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">startTo</span><span class="params">(View v)</span> &amp;#123</span>;</span><br><span class="line">        startActivity(<span class="keyword">new</span> Intent(<span class="keyword">this</span>, SecondActivity.class));</span><br><span class="line">    &amp;#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span> &amp;#123</span>;</span><br><span class="line">        <span class="keyword">super</span>.onDestroy();</span><br><span class="line">        <span class="comment">//反注册EventBus</span></span><br><span class="line">        EventBus.getDefault().unregister(<span class="keyword">this</span>);</span><br><span class="line">    &amp;#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Subscribe</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onEventMainThread</span><span class="params">(EventInfo event)</span> &amp;#123</span>;</span><br><span class="line">        String msg = <span class="string">"onEventMainThread收到了消息："</span> + event.getInfo();</span><br><span class="line">        tv_event_info.setText(msg);</span><br><span class="line">        Toast.makeText(<span class="keyword">this</span>, msg, Toast.LENGTH_LONG).show();</span><br><span class="line">    &amp;#125;</span><br><span class="line">&amp;#125;</span><br></pre></td></tr></table></figure><h4><span id="secondactivity">SecondActivity：</span></h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SecondActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> &amp;#123</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> &amp;#123</span>;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_second);</span><br><span class="line">    &amp;#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">gotoFirst</span><span class="params">(View v)</span> &amp;#123</span>;</span><br><span class="line">        EventBus.getDefault().post(<span class="keyword">new</span> EventInfo(<span class="string">"这是EventBus给你的"</span>));</span><br><span class="line">        finish();</span><br><span class="line">    &amp;#125;</span><br><span class="line">&amp;#125;</span><br></pre></td></tr></table></figure><h4><span id="eventinfo">EventInfo:</span></h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EventInfo</span> &amp;#123</span>;</span><br><span class="line">    <span class="keyword">private</span> String mInfo;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">EventInfo</span><span class="params">(String info)</span> &amp;#123</span>;</span><br><span class="line">        mInfo = info;</span><br><span class="line">    &amp;#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getInfo</span><span class="params">()</span> &amp;#123</span>;</span><br><span class="line">        <span class="keyword">return</span> mInfo;</span><br><span class="line">    &amp;#125;</span><br><span class="line">&amp;#125;</span><br></pre></td></tr></table></figure><p>其中的onEvent()我写的是onEventMainThread(),这里onEvent()可替换成 onEventMainThread(), onEventBackgroundThread(), onEventAsync()来指定要在哪个Thread执行。<br>Sticky event﹔事件发送完成不会马上消失 ，任何注册sticky event的class可以马上收到最后一则sticky event。<br>如果你要进行代码混淆，记得在你的proguard.cfg中加入<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> -keepclassmembers <span class="class"><span class="keyword">class</span> ** &amp;#123</span>;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> onEvent*(**);</span><br><span class="line">&amp;#125;</span><br></pre></td></tr></table></figure></p><h3><span id="相关文章推荐">相关文章推荐：</span></h3><p><a href="http://blog.csdn.net/yuanzeyao/article/details/38174537" target="_blank" rel="noopener">Android解耦库EventBus的使用和源码分析</a><br>EventBus老家<a href="https://github.com/greenrobot/EventBus" target="_blank" rel="noopener">Github</a><br>最近EventBus3更新了，来看看<a href="http://mp.weixin.qq.com/s?__biz=MzA3NTYzODYzMg==&amp;mid=2653576922&amp;idx=2&amp;sn=54ff6079ea410d9b551cbde2c8fd3ae4&amp;scene=4#wechat_redirect" target="_blank" rel="noopener">腾讯的老司机是怎么飙EventBus3的吧</a></p><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实战小技巧 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Android中Notification的PendingIntent无效问题解决</title>
      <link href="/2016/03/11/ThinkInPendingIntent/"/>
      <url>/2016/03/11/ThinkInPendingIntent/</url>
      <content type="html"><![CDATA[<p>下面来一段代码，引出今天的梗</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">NotificationManager nm = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);</span><br><span class="line">Intent intent = <span class="keyword">new</span> Intent();</span><br><span class="line">intent.setClass(context, MainActivity.class);</span><br><span class="line">intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);</span><br><span class="line">intent.putExtra(<span class="string">"aa"</span>,<span class="string">"bb"</span>);</span><br><span class="line">PendingIntent mPendingIntent = PendingIntent.getActivity(context, <span class="number">0</span>, intent, PendingIntent.FLAG_UPDATE_CURRENT);</span><br><span class="line">Notification mNotification;</span><br><span class="line">if (android.os.Build.VERSION.SDK_INT &lt; 16) &amp;#123;</span><br><span class="line">   mNotification = <span class="keyword">new</span> Notification();</span><br><span class="line">   mNotification.icon = R.drawable.ic_launcher;<span class="comment">// icon 的id</span></span><br><span class="line">   mNotification.defaults = Notification.DEFAULT_ALL;</span><br><span class="line">   mNotification.flags = Notification.FLAG_AUTO_CANCEL;</span><br><span class="line">&amp;#125; else &amp;#123;</span><br><span class="line"> mNotification = <span class="keyword">new</span> Notification.Builder(context)</span><br><span class="line">  .setContentTitle(title).setContentText(message)</span><br><span class="line">  .setSmallIcon(R.drawable.ic_launcher)</span><br><span class="line">  .setDefaults(Notification.DEFAULT_ALL)</span><br><span class="line">  .setAutoCancel(<span class="keyword">true</span>).setContentIntent(mPendingIntent).build();</span><br><span class="line">&amp;#125;</span><br><span class="line">nm.notify(<span class="number">0</span>, mNotification);</span><br></pre></td></tr></table></figure><a id="more"></a><p>上面的代码就是最基本的消息通知，然后启动相应的界面，现在世面上大多数也都是这么写的，但是最近却栽在这个坑上了，为啥这么说，因为当我们消息推送的时候在其他机型这样写都是OK的，唯独在华为上面，点击消息启动栏没有任何反应，也不闪退，也不给我们答案，就是通知状态没有了。纠结了一阵子，今天终于。。。。<br>我们先来看一下，作用于此事件的幕后黑手究竟是谁，上面的代码一目了然，PendingIntent.getActivity(Context context, int requestCode, Intent intent, int flags)，nm.notify(0, mNotification);就是这两个方法在搞怪，我们来看看里面的参数，<a href="http://developer.android.com/intl/zh-cn/reference/android/app/PendingIntent.html#getActivities(android.content.Context, int, android.content.Intent[], int" target="_blank" rel="noopener">PendingIntent.getActivity</a>)官方的解释是这样的</p><blockquote><p>Retrieve a PendingIntent that will start a new activity, like calling Context.startActivity(Intent). Note that the activity will be started outside of the context of an existing activity, so you must use the Intent.FLAG_ACTIVITY_NEW_TASK launch flag in the Intent.</p></blockquote><p>主要的意思就是使用PendingIntent来启动一个Activity，就像用Context.startActivity(Intent)来启动一个Activity一样，注意这里的activity将是上下文之外现有的activity，所以你必须使用Intent.FLAG_ACTIVITY_NEW_TASK标记位来启动一个intent。</p><p>这里面的第一个，第三个参数这里不打算细说了。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* <span class="meta">@param</span> context The Context in which <span class="keyword">this</span> PendingIntent should start</span><br><span class="line">* the activity.</span><br><span class="line">* <span class="meta">@param</span> requestCode Private request code <span class="keyword">for</span> the sender</span><br><span class="line">* <span class="meta">@param</span> intent Intent of the activity to be launched.</span><br><span class="line">* @param flags May be &amp;#123;@link #FLAG_ONE_SHOT&amp;#125;, &amp;#123;@link #FLAG_NO_CREATE&amp;#125;,</span><br><span class="line">* &amp;#123;@link #FLAG_CANCEL_CURRENT&amp;#125;, &amp;#123;@link #FLAG_UPDATE_CURRENT&amp;#125;,</span><br><span class="line">* or any of the flags as supported by</span><br><span class="line">* &amp;#123;@link Intent#fillIn Intent.fillIn()&amp;#125; to control which unspecified parts</span><br><span class="line">* of the intent that can be supplied when the actual send happens.</span><br></pre></td></tr></table></figure><p>摘自源码，当我们点进去getActivity方法时是这样的</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> PendingIntent <span class="title">getActivity</span><span class="params">(Context context, <span class="keyword">int</span> requestCode,</span></span></span><br><span class="line"><span class="function"><span class="params">            Intent intent, @Flags <span class="keyword">int</span> flags)</span> &amp;#123</span>;</span><br><span class="line">        <span class="keyword">return</span> getActivity(context, requestCode, intent, flags, <span class="keyword">null</span>);</span><br><span class="line">    &amp;#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> PendingIntent <span class="title">getActivity</span><span class="params">(Context context, <span class="keyword">int</span> requestCode,</span></span></span><br><span class="line"><span class="function"><span class="params">            @NonNull Intent intent, @Flags <span class="keyword">int</span> flags, @Nullable Bundle options)</span> &amp;#123</span>;</span><br><span class="line">        String packageName = context.getPackageName();</span><br><span class="line">        String resolvedType = intent != <span class="keyword">null</span> ? intent.resolveTypeIfNeeded(</span><br><span class="line">                context.getContentResolver()) : <span class="keyword">null</span>;</span><br><span class="line">        try &amp;#123;</span><br><span class="line">            intent.migrateExtraStreamToClipData();</span><br><span class="line">            intent.prepareToLeaveProcess();</span><br><span class="line">            IIntentSender target =</span><br><span class="line">                ActivityManagerNative.getDefault().getIntentSender(</span><br><span class="line">                    ActivityManager.INTENT_SENDER_ACTIVITY, packageName,</span><br><span class="line">                    null, null, requestCode, new Intent[] &amp;#123; intent &amp;#125;,</span><br><span class="line">                    resolvedType != null ? new String[] &amp;#123; resolvedType &amp;#125; : null,</span><br><span class="line">                    flags, options, UserHandle.myUserId());</span><br><span class="line">            <span class="keyword">return</span> target != <span class="keyword">null</span> ? <span class="keyword">new</span> PendingIntent(target) : <span class="keyword">null</span>;</span><br><span class="line">        &amp;#125; catch (RemoteException e) &amp;#123;</span><br><span class="line">        &amp;#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &amp;#125;</span><br></pre></td></tr></table></figure><p>第四个参数Flag我挨个换了一遍还是不行，排除法，最后剩下requestCode了，可是网上都是这么写的啊，不然，就是他的原因。我们可以从源码中可以看出来，我们把requestCode传进去之后，重新传给了IIntentSender对象，看源码涉及到IPC机制，贴出getIntentSender()源码</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> IIntentSender <span class="title">getIntentSender</span><span class="params">(<span class="keyword">int</span> type,</span></span></span><br><span class="line"><span class="function"><span class="params">           String packageName, IBinder token, String resultWho,</span></span></span><br><span class="line"><span class="function"><span class="params">           <span class="keyword">int</span> requestCode, Intent[] intents, String[] resolvedTypes, <span class="keyword">int</span> flags,</span></span></span><br><span class="line"><span class="function"><span class="params">           Bundle options, <span class="keyword">int</span> userId)</span> <span class="keyword">throws</span> RemoteException &amp;#123</span>;</span><br><span class="line">       Parcel data = Parcel.obtain();</span><br><span class="line">       Parcel reply = Parcel.obtain();</span><br><span class="line">       data.writeInterfaceToken(IActivityManager.descriptor);</span><br><span class="line">       data.writeInt(type);</span><br><span class="line">       data.writeString(packageName);</span><br><span class="line">       data.writeStrongBinder(token);</span><br><span class="line">       data.writeString(resultWho);</span><br><span class="line">       data.writeInt(requestCode);</span><br><span class="line">       if (intents != null) &amp;#123;</span><br><span class="line">           data.writeInt(<span class="number">1</span>);</span><br><span class="line">           data.writeTypedArray(intents, <span class="number">0</span>);</span><br><span class="line">           data.writeStringArray(resolvedTypes);</span><br><span class="line">       &amp;#125; else &amp;#123;</span><br><span class="line">           data.writeInt(<span class="number">0</span>);</span><br><span class="line">       &amp;#125;</span><br><span class="line">       data.writeInt(flags);</span><br><span class="line">       if (options != null) &amp;#123;</span><br><span class="line">           data.writeInt(<span class="number">1</span>);</span><br><span class="line">           options.writeToParcel(data, <span class="number">0</span>);</span><br><span class="line">       &amp;#125; else &amp;#123;</span><br><span class="line">           data.writeInt(<span class="number">0</span>);</span><br><span class="line">       &amp;#125;</span><br><span class="line">       data.writeInt(userId);</span><br><span class="line">       mRemote.transact(GET_INTENT_SENDER_TRANSACTION, data, reply, <span class="number">0</span>);</span><br><span class="line">       reply.readException();</span><br><span class="line">       IIntentSender res = IIntentSender.Stub.asInterface(</span><br><span class="line">               reply.readStrongBinder());</span><br><span class="line">       data.recycle();</span><br><span class="line">       reply.recycle();</span><br><span class="line">       <span class="keyword">return</span> res;</span><br><span class="line">   &amp;#125;</span><br></pre></td></tr></table></figure><p>这里首先获取Parcel对象，Parcel.obtain(),然后将我们传递过来的参数打包到Parcel对象中，parcel.write(),最后将我们打包好的数据发送出去 mRemote.transact(),最后回收parcel对象，data.recycle();reply.recycle();<br>猜测应该是sender用requestCode来区分不同的PendingIntent对象，然后对应。因为之前我们传递的都是0，所以这里我们将requestCode的值改为每条消息都不一样就好了。这里也要记住，getActivity中requestCode和notiy中的id要保持一致，我将这里改成了</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PendingIntent mPendingIntent = PendingIntent.getActivity(context, (<span class="keyword">int</span>)System.currentTimeMillis()/<span class="number">1000</span>, intent, PendingIntent.FLAG_UPDATE_CURRENT);</span><br><span class="line">nm.notify((<span class="keyword">int</span>) (System.currentTimeMillis()/<span class="number">1000</span>), mNotification);</span><br></pre></td></tr></table></figure><p>这样就解决问题了。</p><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 埋坑 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ScrollView中嵌套滚动控件手势解决</title>
      <link href="/2016/03/08/ScollGesturesConflictSolve/"/>
      <url>/2016/03/08/ScollGesturesConflictSolve/</url>
      <content type="html"><![CDATA[<p>今天做项目时遇到这么一个场景，在一个ScrollView中需要有一个时间选择控件，就是仿的iOS时间选择那种，布局实现很简单很快实现，可是就是在玩的时候，轮子滚动和外层的ScrollView滚动起了一点摩擦。<br>一上来就想到的是事件冲突了。最终有这么一个简单的方法。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">listView.setOnTouchListener(new View.OnTouchListener() &amp;#123;</span><br><span class="line">           @Override</span><br><span class="line">           public boolean onTouch(View v, MotionEvent event) &amp;#123;</span><br><span class="line">               if (event.getAction() == MotionEvent.ACTION_UP) &amp;#123;</span><br><span class="line">                   mSrollView.requestDisallowInterceptTouchEvent(false);</span><br><span class="line">               &amp;#125; else &amp;#123;</span><br><span class="line">                   mSrollView.requestDisallowInterceptTouchEvent(true);</span><br><span class="line">               &amp;#125;</span><br><span class="line">               return false;</span><br><span class="line">           &amp;#125;</span><br><span class="line">       &amp;#125;);</span><br></pre></td></tr></table></figure><p>mSrollView.requestDisallowInterceptTouchEvent()这句话的意思就是告诉父view不要拦截此事件，哥自己来处理就好。<br>对listview，scrollView，recycleView都适用。</p><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br><br></p>]]></content>
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android事件处理 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>面试时候一些问题回答</title>
      <link href="/2016/03/06/Android-zhihu-question/"/>
      <url>/2016/03/06/Android-zhihu-question/</url>
      <content type="html"><![CDATA[<p>现在已经就职阿里巴巴－菜鸟的Android工程师<a href="http://litesuits.com/" target="_blank" rel="noopener">马天宇</a>，一个月面试了杭州10几家有名的互联网公司，一次分享，我帮忙整理了一下，整理到了知乎上面，一些架构师才会考虑的面试题，有一些深度，帮大家扩展知识面，但是下面给出的经典答案，大家可以点击查看。都是用心在回答的，很赞。</p><ol><li>整体性能如何探测，有哪方面 什么指标，怎么保证更流畅</li><li>讲讲架构这块，如何解耦，大项目逻辑多怎么办。</li><li>android的发展大事件和主要技术发展</li><li>avtivity（service）启动流程简述</li><li>动态化的几种方案</li><li>热修复的原理</li><li>网络这块怎么优化</li><li>数据库性能怎么保证</li><li>线程安全怎么保证，异步并发这块你怎么做的</li></ol><p><a href="https://www.zhihu.com/question/40909636" target="_blank" rel="noopener">原文链接</a></p><p>知乎欢迎关注😊</p><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试回答 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>AndroidSupportLibrary23.2重磅更新</title>
      <link href="/2016/02/25/AndroidSupportLibrary23-2/"/>
      <url>/2016/02/25/AndroidSupportLibrary23-2/</url>
      <content type="html"><![CDATA[<p>2月25凌晨Google正式发布了android-support-library-23.2支持库，一大早微信群里面都在热议不止，开发者们的福音。这一次23.2版本增加了一些新的支持库以及新的功能，许多现有的库，还把之前的library小学生问题修复了，可喜可贺。闲言碎语不要讲，直接切入正题。(文中链接记得自备梯子)</p><p>YouTube观看链接<a href="https://www.youtube.com/watch?v=7E2lNBM38IE&amp;list=PLWz5rJ2EKKc9e0d55YHgJFHXNZbGHEXJX&amp;index=1" target="_blank" rel="noopener">Android Support Library</a></p><p>原文<a href="http://android-developers.blogspot.jp/2016/02/android-support-library-232.html" target="_blank" rel="noopener">Android Developers Blog</a></p><a id="more"></a><h3><span id="中文翻译">中文翻译</span></h3><p>本次更新主要涉及：</p><ol><li>Support Vector Drawables and Animated Vector Drawables</li><li>AppCompat DayNight theme</li><li>Design Support Library: Bottom Sheets</li><li>Support v4: MediaBrowserServiceCompat</li><li>RecyclerView</li><li>Custom Tabs</li><li>Leanback for Android TV</li></ol><p><strong>1.Support Vector Drawables and Animated Vector Drawables(支持矢量图片和矢量图片动画)</strong></p><p><a href="http://developer.android.com/intl/zh-cn/reference/android/graphics/drawable/VectorDrawable.html" target="_blank" rel="noopener">Vector Drawables</a>让你用一个矢量图片，替换定义在XML中的多个PNG资源。而此前只支持L版本或者更高的设备版本，通过support-vector-drawable和support-animated-vector-drawable两新的支持库分别支持矢量图片和矢量图片动画。<br>AndroidStudio1.4已经引入过矢量绘图支持在构建时生成PNG图像。要想禁用此功能(并想使用最新支持库)，你需要在你的build.gradle里面添加vectorDrawables.useSupportLibrary = true </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// Gradle Plugin 2.0+  </span><br><span class="line"> android &amp;#123;  </span><br><span class="line">   defaultConfig &amp;#123;  </span><br><span class="line">     vectorDrawables.useSupportLibrary = true  </span><br><span class="line">    &amp;#125;  </span><br><span class="line"> &amp;#125;</span><br></pre></td></tr></table></figure><p>你会发现这个新的属性只在AndroidStudio2.0版本存在。如果您使用的是AndroidStudio1.5，需要</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// Gradle Plugin 1.5  </span><br><span class="line"> android &amp;#123;  </span><br><span class="line">   defaultConfig &amp;#123;  </span><br><span class="line">     generatedDensities = []  </span><br><span class="line">  &amp;#125;  </span><br><span class="line"></span><br><span class="line">  // This is handled for you by the 2.0+ Gradle Plugin  </span><br><span class="line">  aaptOptions &amp;#123;  </span><br><span class="line">    additionalParameters &quot;--no-version-vectors&quot;  </span><br><span class="line">  &amp;#125;  </span><br><span class="line"> &amp;#125;</span><br></pre></td></tr></table></figure><p>VectorDrawableCompat支持API7+，AnimatedVectorDrawableCompat支持API11+。<br>由于android的图片加载机制的限制，不是所有支持图片id的地方（例如xml文件里）都能使用矢量图。值得一体的是，AppCompat已经增加了许多功能，可以很容易地使用新的矢量绘图资源。<br>首先，当我们在ImageView(或子类，如ImageButton和FloatingActionButton)中使用Appcomat，你就可以使用新属性app:srcCompat来引用矢量图片（也可以在android:src中以及任何其他可用的地方使用图片)。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;ImageView   </span><br><span class="line">  android:layout_width = &quot;wrap_content&quot;   </span><br><span class="line">  android:layout_height = &quot;wrap_content&quot;   </span><br><span class="line">  app:srcCompat = &quot;@drawable/ic_add&quot;  /&gt;</span><br></pre></td></tr></table></figure><p>如果你在运行时(java代码中)更改drawable，你也可以使用相同的setImageResource()和以前一样没有变。使用AppCompat和 app:srcCompat是将矢量图片集成到app的最简单的方法。<br>你会发现在L版本中不使用app:srcCompat引用矢量图都是无效的。然而，当矢量图被另一个drawable container(例如<a href="http://developer.android.com/intl/zh-cn/reference/android/graphics/drawable/StateListDrawable.html?utm_campaign=android_launch_supportlibrary23.2_022216&amp;utm_source=anddev&amp;utm_medium=blog" target="_blank" rel="noopener">StateListDrawable</a>，<a href="http://developer.android.com/intl/zh-cn/reference/android/graphics/drawable/InsetDrawable.html?utm_campaign=android_launch_supportlibrary23.2_022216&amp;utm_source=anddev&amp;utm_medium=blog" target="_blank" rel="noopener">InsetDrawable</a>，<a href="http://developer.android.com/intl/zh-cn/reference/android/graphics/drawable/LayerDrawable.html?utm_campaign=android_launch_supportlibrary23.2_022216&amp;utm_source=anddev&amp;utm_medium=blog" target="_blank" rel="noopener">LayerDrawable</a>，<a href="http://developer.android.com/intl/zh-cn/reference/android/graphics/drawable/LevelListDrawable.html?utm_campaign=android_launch_supportlibrary23.2_022216&amp;utm_source=anddev&amp;utm_medium=blog" target="_blank" rel="noopener">LevelListDrawable</a>和<a href="http://developer.android.com/intl/zh-cn/reference/android/graphics/drawable/RotateDrawable.html?utm_campaign=android_launch_supportlibrary23.2_022216&amp;utm_source=anddev&amp;utm_medium=blog" target="_blank" rel="noopener">RotateDrawable</a> )引用时，AppCompat是可以加载的。所以，在一些无法直接使用AppCompat（直接使用app:srcCompat）的地方通过这种间接使用，也可以在矢量图片中使用类似 TextView’s android:drawableLeft属性。</p><p><strong>2.AppCompat DayNight theme(DayNight 主题)</strong></p><p><img src="http://ww2.sinaimg.cn/mw690/005yqym4gw1f1cj0qlz3aj30ot0l7gnj.jpg" alt=""></p><p>此前API14，该DayNight主题以及DayNight.NoActionBar， DayNight.DarkActionBar，DayNight.Dialog等等，提供了相同的亮度。但在API 14和更高版本的设备，这个主题可以让应用程序可以轻松地支持 白天和夜晚的主题，根据是否是“夜晚”来决定主题是否从白天切换到夜晚主题。<br>默认情况下，是否是“夜晚”是由系统值(<a href="http://developer.android.com/intl/zh-cn/reference/android/app/UiModeManager.html?utm_campaign=android_launch_supportlibrary23.2_022216&amp;utm_source=anddev&amp;utm_medium=blog#getNightMode(" target="_blank" rel="noopener">UiModeManager.getNightMode()</a>)决定，但你可以重写该方法<a href="http://developer.android.com/intl/zh-cn/reference/android/support/v7/app/AppCompatDelegate.html?utm_campaign=android_launch_supportlibrary23.2_022216&amp;utm_source=anddev&amp;utm_medium=blog" target="_blank" rel="noopener">AppCompatDelegate</a>中的值来设置。你将能够在整个应用程序中设置默认值（直到进程重新启动）与静态AppCompatDelegate.setDefaultNightMode()或通过 <a href="http://developer.android.com/intl/zh-cn/reference/android/support/v7/app/AppCompatActivity.html?utm_campaign=android_launch_supportlibrary23.2_022216&amp;utm_source=anddev&amp;utm_medium=blog#getDelegate(" target="_blank" rel="noopener">getDelegate()</a>) 得到AppCompatDelegate对象，并使用setLocalNightMode()来设置当前的Activity或Dialog的主题。<br>当使用AppCompatDelegate.MODE_NIGHT_AUTO，它会时刻知道你最后的位置和时间（如果您的应用程序已开启位置权限）用于白天和黑夜之间自动切换的依据。MODE_NIGHT_NO 和 MODE_NIGHT_YES 则分别强制设定了从不或是一直使用夜晚主题。<br>这是您在使用白天主题的时候彻底测试你的应用程序的关键，因为白天主题的亮度很可能导致一些文字或者图标变得不可阅读。如果您使用的是标准TextAppearance.AppCompat 从你的主题样式android:textColorPrimary为你的文本或颜色，你会发现这些为你自动更新。</p><p><strong>3.Design Support Library: Bottom Sheets(材料设计，底部表)</strong></p><p><img src="http://ww3.sinaimg.cn/mw690/005yqym4gw1f1c0cafmnrj30a00hswg9.jpg" alt=""></p><p>通过附加一个BottomSheetBehavior到子视图的<a href="http://developer.android.com/intl/zh-cn/reference/android/support/design/widget/CoordinatorLayout.html?utm_campaign=android_launch_supportlibrary23.2_022216&amp;utm_source=anddev&amp;utm_medium=blog" target="_blank" rel="noopener">CoordinatorLayout</a>(添加app:layout_behavior =“android.support.design.widget.BottomSheetBehavior”)，通过对BottomSheet的操作我们可以得到它的五种状态。</p><ul><li>STATE_COLLAPSED：关闭Bottom Sheets，高度可控属性app:behavior_peekHeight（默认为0）</li><li>STATE_DRAGGING：在用户直接拖动Bottom Sheets向上或向下的中间状态</li><li>STATE_SETTLING：当Bottom Sheets被释放和沉降到其最终位置记录的状态</li><li>STATE_EXPANDED：Bottom Sheets展开时的状态</li><li>STATE_HIDDEN：默认情况下禁用(和启用应用程序：behavior_hideable属性),这使得用户可以向下滑动Bottom Sheets完全隐藏底部</li></ul><p>请记住，你的底部滚动容器必须支持嵌套滚动(例如，NestedScrollView, RecyclerView, or ListView/ScrollView on API 21+)。<br>如果需要监听Bottom Sheets回调时的状态，可以通过BottomSheetCallback来实现。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// The View with the BottomSheetBehavior  </span><br><span class="line">View bottomSheet = coordinatorLayout.findViewById(R.id.bottom_sheet);  </span><br><span class="line">BottomSheetBehavior behavior = BottomSheetBehavior.from(bottomSheet);  </span><br><span class="line">behavior.setBottomSheetCallback(new BottomSheetCallback() &amp;#123;  </span><br><span class="line">   @Override  </span><br><span class="line">   public void onStateChanged(@NonNull View bottomSheet, int newState) &amp;#123;  </span><br><span class="line">     // 监听上述5种状态的变化 </span><br><span class="line">   &amp;#125;  </span><br><span class="line">     @Override  </span><br><span class="line">     public void onSlide(@NonNull View bottomSheet, float slideOffset) &amp;#123;  </span><br><span class="line">      // 拖拽中的回调</span><br><span class="line">  &amp;#125;  </span><br><span class="line">&amp;#125;);</span><br></pre></td></tr></table></figure><p>虽然BottomSheetBehavior能够捕获持续bottom sheet的情况，此版本还提供了一个BottomSheetDialog和BottomSheetDialogFragment填补了model bottom sheets使用情况。只需更换<a href="http://developer.android.com/intl/zh-cn/reference/android/support/v7/app/AppCompatDialog.html?utm_campaign=android_launch_supportlibrary23.2_022216&amp;utm_source=anddev&amp;utm_medium=blog" target="_blank" rel="noopener">AppCompatDialog</a>或<a href="http://developer.android.com/intl/zh-cn/reference/android/support/v7/app/AppCompatDialogFragment.html?utm_campaign=android_launch_supportlibrary23.2_022216&amp;utm_source=anddev&amp;utm_medium=blog" target="_blank" rel="noopener">AppCompatDialogFragment</a>作为底片。</p><p><strong>4.Support v4: MediaBrowserServiceCompat</strong></p><p>该<a href="http://developer.android.com/intl/zh-cn/tools/support-library/features.html?utm_campaign=android_launch_supportlibrary23.2_022216&amp;utm_source=anddev&amp;utm_medium=blog#v4" target="_blank" rel="noopener">Support v4</a>库用作许多支持库的基础，并且为一些新版本介绍的特征提供支持(backports)。<br>添加到以前发布的MediaSessionCompat类，为媒体播放了提供了坚实的基础，这个版本增加了MediaBrowserServiceCompat和MediaBrowserCompat提供，带来了最新的API兼容的解决方案（甚至没有在L设备上加）支持API4+。这使得我们更容易地在Android上支持媒体的播放和在Android Wear上浏览媒体，为我们提供了一个标准的接口，让你的媒体播放服务与界面连起来。</p><p><strong>5.RecyclerView</strong></p><p>最新的<a href="http://developer.android.com/intl/zh-cn/reference/android/support/v7/widget/RecyclerView.html?utm_campaign=android_launch_supportlibrary23.2_022216&amp;utm_source=anddev&amp;utm_medium=blog" target="_blank" rel="noopener">RecyclerView</a>目录结构如下</p><p><img src="http://ww3.sinaimg.cn/mw690/005yqym4gw1f1bi7d1bexj30ge0uaq4o.jpg" alt=""></p><p>RecyclerView组件为我们提供了灵活的创建列表和网格以及动画的特性。这个版本带来一个激动人心的新特性LayoutManager API：自动测量！！！这允许RecyclerView尺寸大小根据其内容的大小尺寸定制。这意味着，先前不可用的情况，例如使用WRAP_CONTENT为尺寸的RecyclerView，现在都是可能的。你会发现所有内置的布局管理现在都支持自动测量。<br>由于这种变化，一定要确保你的item的布局属性：以前被忽视的布局参数（如MATCH_PARENT的滚动方向）现在将不一样。<br>如果你有一个自定义的LayoutManager并且不是基于之前的拓展，有一个选择就是你可以调用setAutoMeasureEnabled(true)，以及做一些小的变化（详情见Javadoc）来支持新特性<br>注意，虽然RecyclerView支持动画，但是他不支持自己动画边界变化，如果你想对RecyclerView边界进行动画处理，你可以使用 <a href="http://developer.android.com/intl/zh-cn/training/transitions/overview.html?utm_campaign=android_launch_supportlibrary23.2_022216&amp;utm_source=anddev&amp;utm_medium=blog" target="_blank" rel="noopener">Transition APIs</a>.</p><p><strong>6.Custom Tabs(自定义选项卡)。</strong></p><p><a href="http://developer.android.com/intl/zh-cn/reference/android/support/customtabs/package-summary.html" target="_blank" rel="noopener">Custom Tabs</a>能够同时保持你的应用程序的外观和感觉无缝地过渡到Web内容。在这个版本中，您现在就可以行动加入底栏显示旁边的网页内容。</p><p><img src="http://ww3.sinaimg.cn/mw690/005yqym4gw1f1c0cx6naqj30a00hs3z2.jpg" alt=""></p><p>有了新加的addToolbarItem(),你现在可以在底栏增加五种动作，并且一旦会话开始就可以使用 setToolBarItem()更新他们，你还会发现一个setSecondaryToolbarColor()自定义底栏的背景颜色。</p><p><strong>7.Leanback for Android TV</strong></p><p><img src="http://ww2.sinaimg.cn/mw690/005yqym4gw1f1c0d8wl1pj30hs0a0t8v.jpg" alt=""></p><p>AndroidTV<br>请看原文，对这方面了解甚少，就不嚯嚯读者了。。</p><p>动手吧！！！<br>Android的支持库的版本23.2是通过您的SDK管理器和Android Studio中更新可用。充分利用所有的新特性以及其他bug修复从现在开始！与往常一样，在提交错误报告<a href="b.android.com">b.android.com</a>并与其他开发人员交流的<a href="https://plus.google.com/communities/105153134372062985968?utm_campaign=android_launch_supportlibrary23.2_022216&amp;utm_source=anddev&amp;utm_medium=blog" target="_blank" rel="noopener">Android开发Google+社群</a></p><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 最新 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>AndroidStudio设置代理更新</title>
      <link href="/2016/02/03/AndroidStudioProxy/"/>
      <url>/2016/02/03/AndroidStudioProxy/</url>
      <content type="html"><![CDATA[<p>最近AndroidStudio更新频繁，Preview几乎一天一个版本，但是我从3之后就升不上去了，期间更新几次一次Failure，就没管，因为我用的ShadowSocks，应该全局翻墙可以啊。不行就纳闷了，直到今天感谢群里一哥们，使用SS的哥们福音到了，请看这篇文章。</p><a id="more"></a><p>不好意思，把你骗进来了，嘿嘿，看下面的这个Blog应该能完美解决你的问题</p><p><a href="http://blog.csdn.net/lchad/article/details/43567675" target="_blank" rel="noopener">AndroidStudio设置代理</a></p><p>亲测成功Update到了Preview9</p><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AndroidStudio小技巧 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>自定义文本显示TextView</title>
      <link href="/2016/01/31/CustomTextShow/"/>
      <url>/2016/01/31/CustomTextShow/</url>
      <content type="html"><![CDATA[<p>现在的app，数据我们从后台拿到，然后显示在指定的区域，但是后台可能会包含一些html的标签，像<code>&lt;a&gt;,&lt;b&gt;</code>等等，我们总不能让用户看到这些内容，我们客户端处理一下就好了，自定义TextView就OK。</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">public class MyCustomTextView extends TextView &amp;#123;</span><br><span class="line">public MyCustomTextView(Context context) &amp;#123;</span><br><span class="line">super(context);</span><br><span class="line">&amp;#125;</span><br><span class="line"></span><br><span class="line">public MyCustomTextView(Context context, AttributeSet attrs) &amp;#123;</span><br><span class="line">super(context, attrs);</span><br><span class="line">&amp;#125;</span><br><span class="line"></span><br><span class="line">public MyCustomTextView(Context context, AttributeSet attrs, int defStyle) &amp;#123;</span><br><span class="line">super(context, attrs, defStyle);</span><br><span class="line">&amp;#125;</span><br><span class="line"></span><br><span class="line">public void set(String comments) &amp;#123;</span><br><span class="line">if (comments.contains(&quot;&lt;&quot;)) &amp;#123;</span><br><span class="line">setText(Html.fromHtml(comments));</span><br><span class="line">setMovementMethod(LinkMovementMethod.getInstance());</span><br><span class="line">CharSequence text = getText();</span><br><span class="line">if (text instanceof Spannable) &amp;#123;</span><br><span class="line">int end = text.length();</span><br><span class="line">Spannable sp = (Spannable) getText();</span><br><span class="line">URLSpan[] urls = sp.getSpans(0, end, URLSpan.class);</span><br><span class="line">SpannableStringBuilder style = new SpannableStringBuilder(</span><br><span class="line">text);</span><br><span class="line">style.clearSpans();// should clear old spans</span><br><span class="line"></span><br><span class="line">// 循环把链接发过去</span><br><span class="line">for (URLSpan url : urls) &amp;#123;</span><br><span class="line">MyURLSpan myURLSpan = new MyURLSpan(url.getURL());</span><br><span class="line">style.setSpan(myURLSpan, sp.getSpanStart(url),</span><br><span class="line">sp.getSpanEnd(url),</span><br><span class="line">Spannable.SPAN_EXCLUSIVE_INCLUSIVE);</span><br><span class="line">&amp;#125;</span><br><span class="line">setText(style);</span><br><span class="line">&amp;#125;</span><br><span class="line">&amp;#125; else &amp;#123;</span><br><span class="line">setText(comments);</span><br><span class="line">&amp;#125;</span><br><span class="line">&amp;#125;</span><br><span class="line"></span><br><span class="line">class MyURLSpan extends ClickableSpan &amp;#123;</span><br><span class="line"></span><br><span class="line">private String mUrl;</span><br><span class="line"></span><br><span class="line">MyURLSpan(String url) &amp;#123;</span><br><span class="line">mUrl = url;</span><br><span class="line">&amp;#125;</span><br><span class="line"></span><br><span class="line">@Override</span><br><span class="line">public void updateDrawState(TextPaint ds) &amp;#123;</span><br><span class="line">super.updateDrawState(ds);</span><br><span class="line">ds.setColor(Color.parseColor(&quot;#507daf&quot;));</span><br><span class="line">ds.setUnderlineText(false); // 去掉下划线</span><br><span class="line">&amp;#125;</span><br><span class="line">     //处理链接点击事件</span><br><span class="line">@Override</span><br><span class="line">public void onClick(View widget) &amp;#123;</span><br><span class="line"></span><br><span class="line">&amp;#125;</span><br><span class="line">&amp;#125;</span><br><span class="line">&amp;#125;</span><br></pre></td></tr></table></figure><p>使用的时候直接在XML中引用就好了，然后java代码中显示我们要显示的内容。MyCustomTextView.set(content);就好了。</p><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 自定义UI </tag>
            
            <tag> 实战小技巧 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>吐槽CollapsingToolbarLayout</title>
      <link href="/2016/01/29/FuckAndroidSDK/"/>
      <url>/2016/01/29/FuckAndroidSDK/</url>
      <content type="html"><![CDATA[<p>今天真是日了狗了，之前在我们的项目中用到了CollapsingToolbarLayout，compileSdkVersion设置的22，因为有一些属性只有23才有，只好改成了23，不改不要紧，改完之后，CollapsingToolbarLayout的Title不显示了。。。。开始没想太多，以为自己写错了，或者改成23之后多了什么API，去了developer上面看了一下，没问题啊，Google了一番，说这是一个Google的bug，当时心中真是有一万只草泥马啊。。。<br>但是吐槽归吐槽，如果你用不到Title的话，也可以改成23，里面有一个属性app:layout_scrollFlags=”snap”，这里面多了一个snap属性，就是当你上滑的时候如果一半，他不会停留，他会自动滑上去，而在22却没有，还有一些属性，22也没有，就是setCollapsedTitleGravity设置标题显示位置，现在标题都不出来了，这个属性也就显得无足轻重了。<br>如果有好的解决方法，不妨告知。。。<br><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随记 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Apk瘦身+Proguard混淆实战</title>
      <link href="/2016/01/28/ApkProguardStudy/"/>
      <url>/2016/01/28/ApkProguardStudy/</url>
      <content type="html"><![CDATA[<p>很高兴，经过1天的时间，我们的apk从23M已经瘦到了17.9M，这里很感谢这篇博客给我带来的冲动，<a href="http://www.jayfeng.com/2015/12/29/APK%E7%98%A6%E8%BA%AB%E5%AE%9E%E8%B7%B5/" target="_blank" rel="noopener">APK瘦身实践</a>，这里面提到的如果都试过，肯定会有质的飞跃，我只试了几个，就带来了意想不到的收获，下面我们一起来见证这奇迹的时刻。</p><a id="more"></a><p>先上图<br><strong>当minifyEnabled＝false是这样的，也就是没代码混淆</strong></p><p><img src="http://ww3.sinaimg.cn/thumbnail/005yqym4gw1f0g4zlr0lbj30be0eugmd.jpg" alt=""></p><p><img src="http://ww3.sinaimg.cn/thumbnail/005yqym4gw1f0g4zwtvmfj30bq0ecjs2.jpg" alt=""></p><p>对比7zip18.9M，普通的18.6M</p><p><strong>当use7zip＝false是这样的，没开启7zip压缩</strong><br><img src="http://ww4.sinaimg.cn/thumbnail/005yqym4gw1f0g50865uyj30c20eo3z5.jpg" alt=""></p><p>18.6M<br><strong>当全为true是这样的</strong><br><img src="http://ww4.sinaimg.cn/thumbnail/005yqym4gw1f0g50iqzvej30ba0e4q3k.jpg" alt=""></p><p><img src="http://ww2.sinaimg.cn/thumbnail/005yqym4gw1f0g54dqjiqj30m00r4gne.jpg" alt=""></p><p>对比7zip17.9M,普通18.6M<br>用微信Android资源混淆工具打包完成后是这样的<br>app/build/outputs/apk下面会多一个这样的文件夹AndResProguard<br><img src="http://ww1.sinaimg.cn/thumbnail/005yqym4gw1f0g551muf0j30bi0d6wfo.jpg" alt=""></p><p>命令是╰─➤  <strong>./gradlew generate</strong>，而不是./gradlew assembleRelease，如果你没用微信的那一套方法，用第二种就可以，如果你用了微信的那一套，必须用第一种口令了。<br>微信的那一套在这里<br><a href="https://github.com/shwenzhang/AndResGuard" target="_blank" rel="noopener">AndResGuard</a><br>有中文文档，遇到问题可以参考里面的issues，当然里面也有我提的，嘿嘿。<br>这里一些技巧，去除无用代码，无用图片啊，这里就不说了，上面推荐的文章里面说的很清楚。<br>这里既然说的是apk瘦身+代码混淆。apk瘦身我这里靠的就是去除无用资源，优化图片，混淆代码实现的。<br>最重要的还是代码混淆，我这里用了双重混淆，一种proguard-rules.pro文件进行混淆，一种微信混淆工具进行混淆，这两种上面的文章有提到。第一种主要就是把gradle中的开关打开，然后进行proguard-rules.pro的文件编写，因为这里是在As中进行的。<br>注意：<em>在使用Eclipse+ADT时需要加入-libraryjars libs/…，如果你是使用Android Studio开发的项目则不需要加入libs包中的jar包，这是因为，通过Android Studio进行混淆代码时，默认已经将 lib目录中的 jar 都已经添加到打包脚本中，所以不需要再次手动添加，否则会出现“ java.io.IOException: The same input jar is specified twice” 错误。</em><br>我这里贴出来我写的一部分，结合你们自己的项目进行混淆，哪些进行混淆，哪些不能进行混淆。<br><em>1.JavaBean类即实体类不被混淆。<br>2.自定义控件不参与混淆。<br>3.枚举不被混淆。<br>4.第三方库中的类不进行混淆</em><br>举一个例子。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#baidu</span><br><span class="line">-keep class com.baidu.**   &amp;#123;*;&amp;#125;</span><br><span class="line">-keep class vi.com.**   &amp;#123;*;&amp;#125;</span><br><span class="line">-dontwarn com.baidu.**</span><br><span class="line">-dontwarn vi.com.**</span><br></pre></td></tr></table></figure><p>百度第三方库，这样写的意思是，-keep class com.baidu.<strong> &#123; *; &#125;   让ProGuard不要警告找不到com.baidu.</strong>这个包里面的类的相关引用<br>-dontwarn com.baidu.<strong>  保持com.baidu.</strong>这个包里面的所有类和所有方法不被混淆。<br>几乎第三方类都这样写就可以了，怎么找到它对应的包那，<br><img src="http://ww1.sinaimg.cn/mw690/005yqym4gw1f0g55gg8d8j30gy05imxo.jpg" alt=""><br>展开lib下面引用的第三方就可以了，还有一些是在gradle中加的，那就到这里找就好了<br><img src="http://ww2.sinaimg.cn/mw690/005yqym4gw1f0g55qv3yhj30d8020mxa.jpg" alt=""></p><p>然后仿照上面的书写格式就好了。当你觉得写的差不多的时候打一个包出来，然后安装看看，我昨天就是一口气弄完，最后BUILD SUCCESSFUL了，但是安装到手机上面就是崩溃，还是有些不该混淆的类给混淆了，他找不到了。<br>微信那一个Github的文档，还有一个demo应该能玩转了，就是如果开启7zip压缩，首先你电脑要有7zip，Mac上面安装很简单，brew install p7zip，然后把Github上面的那一段gradle复制进去，要对应好哦，</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">buildscript &amp;#123;</span><br><span class="line">    dependencies &amp;#123;</span><br><span class="line">        classpath &apos;com.tencent.mm:AndResGuard-gradle-plugin:1.1.2&apos;</span><br><span class="line">    &amp;#125;</span><br><span class="line">&amp;#125;</span><br></pre></td></tr></table></figure><p>这一段是放在Project中的gradle的，剩下的都是放在Module中gradle的。</p><p>参考资料：</p><p><a href="http://my.oschina.net/aibenben/blog/371889" target="_blank" rel="noopener">代码混淆和破解apk</a><br><a href="http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2015/0113/2304.html" target="_blank" rel="noopener">Android Proguard 详解</a><br><a href="http://blog.csdn.net/catoop/article/details/47208833" target="_blank" rel="noopener"> Android 项目的代码混淆，Android proguard 使用说明</a></p><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> apk瘦身 </tag>
            
            <tag> 代码混淆 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>猴年我也凑凑热闹</title>
      <link href="/2016/01/28/HappyNewYear/"/>
      <url>/2016/01/28/HappyNewYear/</url>
      <content type="html"><![CDATA[<p>最近朋友圈，微博被六小龄童上春晚刷屏了，我也来凑凑热闹吧！</p><embed type="application/x-shockwave-flash" allowscriptaccess="always" play="false" flashvars="autoplay=false&play=false" allowfullscreen="true" wmode="transparent" quality="high" height="480" width="480" src="http://video.weibo.com/player/1034:74bd513557f9d6e3d95c725ec4bb19a9/v.swf"><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> 休息一下 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 开心一笑 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>相机拍照即时保存，即时读取</title>
      <link href="/2016/01/25/TakePhotoSave/"/>
      <url>/2016/01/25/TakePhotoSave/</url>
      <content type="html"><![CDATA[<p>拍照发feed，进入相机拍照界面，如果拍完了却不想发了，然后回到相册界面，要有你刚刚拍的那张，就是这么一个需求。</p><a id="more"></a><p> 首先Camera的拍照方法<code>camera.takePicture(null, null, new MyPictureCallback());</code><br> 回调接口</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">MyPictureCallback</span> <span class="keyword">implements</span> <span class="title">Camera</span>.<span class="title">PictureCallback</span> &amp;#123</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPictureTaken</span><span class="params">(<span class="keyword">byte</span>[] data, Camera camera)</span> &amp;#123</span>;</span><br><span class="line">        cameraParameters.setFlashMode(Camera.Parameters.FLASH_MODE_OFF);</span><br><span class="line">        camera.setParameters(cameraParameters);</span><br><span class="line">        try &amp;#123;</span><br><span class="line">            saveToSDCard(data); <span class="comment">// 保存图片到sd卡中</span></span><br><span class="line">         &amp;#125; catch (Exception e) &amp;#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &amp;#125;</span><br><span class="line">    &amp;#125;</span><br><span class="line">&amp;#125;</span><br></pre></td></tr></table></figure><p>下面就是这次我们要讲的重点了。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveToSDCard</span><span class="params">(<span class="keyword">byte</span>[] data)</span> <span class="keyword">throws</span> IOException &amp;#123</span>;</span><br><span class="line">      File photo = <span class="keyword">this</span>.getPhotoPath();</span><br><span class="line">      if (photo.exists()) &amp;#123;</span><br><span class="line">          photo.delete();</span><br><span class="line">      &amp;#125;</span><br><span class="line">      Bitmap bmp = BitmapFactory.decodeByteArray(data, <span class="number">0</span>, data.length);</span><br><span class="line">      Matrix matrix = <span class="keyword">new</span> Matrix();</span><br><span class="line">      <span class="comment">//此处的degree有两个值，预防拍照反转，90度和270度，三星手机操蛋。你要判断处理一下，是90还是270.</span></span><br><span class="line">      matrix.postRotate(degree);</span><br><span class="line">      <span class="keyword">int</span> width = bmp.getWidth();</span><br><span class="line">      <span class="keyword">int</span> height = bmp.getHeight();</span><br><span class="line">      bmp = Bitmap.createBitmap(bmp, <span class="number">0</span>, <span class="number">0</span>, width, height, matrix, <span class="keyword">true</span>);</span><br><span class="line">      try &amp;#123;</span><br><span class="line">          FileOutputStream e = <span class="keyword">new</span> FileOutputStream(photo.getPath());</span><br><span class="line">          BufferedOutputStream bos = <span class="keyword">new</span> BufferedOutputStream(e);</span><br><span class="line">          bmp.compress(Bitmap.CompressFormat.JPEG, <span class="number">100</span>, e);</span><br><span class="line">          bos.write(data);</span><br><span class="line">          <span class="comment">//如果要想把data保存到disk上面，你必须flush and sync刷新并同步一下</span></span><br><span class="line">          bos.flush();</span><br><span class="line">          e.getFD().sync();</span><br><span class="line">          bos.close();</span><br><span class="line">          if (scanSavedImage) &amp;#123;</span><br><span class="line">   MediaScannerConnection.scanFile(getActivity(), new String[]&amp;#123;photo.getPath()&amp;#125;, SCAN_TYPES, null);</span><br><span class="line">          &amp;#125;</span><br><span class="line">      &amp;#125; catch (IOException ie) &amp;#123;</span><br><span class="line">          Log.e(<span class="keyword">this</span>.getClass().getSimpleName(), <span class="string">"Exception in setPreviewDisplay()"</span>, ie);</span><br><span class="line">      &amp;#125;</span><br><span class="line">      try &amp;#123;</span><br><span class="line">          <span class="comment">//拍照完成跳到裁剪界面的逻辑处理</span></span><br><span class="line">          Intent intent = <span class="keyword">this</span>.getIntent();</span><br><span class="line">          startActivity(intent);</span><br><span class="line">          finish();</span><br><span class="line">          &amp;#125;</span><br><span class="line">      &amp;#125; catch (Throwable e) &amp;#123;</span><br><span class="line">          e.printStackTrace();</span><br><span class="line">      &amp;#125;</span><br><span class="line">  &amp;#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">protected</span> File <span class="title">getPhotoPath</span><span class="params">()</span> &amp;#123</span>;</span><br><span class="line">      File dir = <span class="keyword">this</span>.getPhotoDirectory();</span><br><span class="line">      dir.mkdirs();</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> File(dir, <span class="keyword">this</span>.getPhotoFilename());</span><br><span class="line">  &amp;#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">protected</span> File <span class="title">getPhotoDirectory</span><span class="params">()</span> &amp;#123</span>;</span><br><span class="line">      if (this.photoDirectory == null) &amp;#123;</span><br><span class="line">          <span class="keyword">this</span>.initPhotoDirectory();</span><br><span class="line">      &amp;#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.photoDirectory;</span><br><span class="line">  &amp;#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initPhotoDirectory</span><span class="params">()</span> &amp;#123</span>;</span><br><span class="line">      <span class="keyword">this</span>.photoDirectory = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM);</span><br><span class="line">  &amp;#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">protected</span> String <span class="title">getPhotoFilename</span><span class="params">()</span> &amp;#123</span>;</span><br><span class="line">      String ts = (<span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyyMMdd_HHmmss"</span>, Locale.US)).format(<span class="keyword">new</span> Date());</span><br><span class="line">      <span class="keyword">return</span> <span class="string">"Photo_"</span> + ts + <span class="string">".jpg"</span>;</span><br><span class="line">  &amp;#125;</span><br></pre></td></tr></table></figure><p>这些代码拿进你的项目就可以用。</p><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Androiod相机拍照 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>查看更多效果实现</title>
      <link href="/2016/01/18/ViewMoreDetailText/"/>
      <url>/2016/01/18/ViewMoreDetailText/</url>
      <content type="html"><![CDATA[<p>最近在乐视App上面看电影，看见每个视频下面都有一个视频详情，点击查看更多效果,想着实现一个这样的效果。类似下面这种</p><a id="more"></a><p><img src="http://ww3.sinaimg.cn/mw690/005yqym4gw1f1o5kbdjweg30ax0jwkjl.gif" alt=""></p><p>我的第一反应是自定义一个View出来，然后根据传递的文字长度进行截取显示，但是做的时候发现也可以不用自定义，一种比较投机取巧的方法，一起看看。</p><p>首先我们先自定义开始要显示的行数。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> LIMIT = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> currentLines;</span><br><span class="line">  </span><br><span class="line">currentLines = LIMIT;</span><br><span class="line">desc.setMaxLines(currentLines);</span><br><span class="line">desc.setText(<span class="string">"苍井空，1983年11月11日出生于日本东京。日本AV女演员、成人模特，兼电视、电影演员。日本女子组合惠比寿麝香葡萄的初代首领，现成员、OG首领。2010年3月毕业并将组合首领之位交托给麻美由真，同年10月复归。入行前曾是泳装写真女星，2002年进入AliceJapan公司，开始性感影片的拍摄生涯。因为其“童颜巨乳”的特色，开始获得人气，并连续在2003年及2004年蝉联日本《VideoBoy》杂志年度性感女艺人第一名。"</span>);</span><br></pre></td></tr></table></figure><p>下面我们对内容存放的区域进行高度的计算。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> FULLSIZE = -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> THUMBNAIL =-<span class="number">1</span>;</span><br><span class="line">contentView.addOnLayoutChangeListener(<span class="keyword">new</span> View.OnLayoutChangeListener() &lt;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onLayoutChange</span><span class="params">(View view, <span class="keyword">int</span> i, <span class="keyword">int</span> i2, <span class="keyword">int</span> i3, <span class="keyword">int</span> i4, <span class="keyword">int</span> i5, <span class="keyword">int</span> i6, <span class="keyword">int</span> i7, <span class="keyword">int</span> i8)</span> &lt;</span></span><br><span class="line"><span class="function">                bg.<span class="title">getLayoutParams</span><span class="params">()</span>.height </span>= contentView.getHeight();</span><br><span class="line">                bg.requestLayout();</span><br><span class="line">                <span class="keyword">if</span>(THUMBNAIL == -<span class="number">1</span>) &lt;</span><br><span class="line">                    THUMBNAIL = contentView.getHeight();</span><br><span class="line">                &amp;#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(FULLSIZE == -<span class="number">1</span>) &lt;</span><br><span class="line">                    FULLSIZE = THUMBNAIL + getTextViewHeight(desc) - desc.getHeight();</span><br><span class="line">                &amp;#125;</span><br><span class="line">            &amp;#125;</span><br><span class="line">        &amp;#125;);</span><br><span class="line">        </span><br><span class="line">     <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getTextViewHeight</span><span class="params">(TextView pTextView)</span> &lt;</span></span><br><span class="line"><span class="function">        Layout layout </span>= pTextView.getLayout();</span><br><span class="line">        <span class="keyword">int</span> desired = layout.getLineTop(pTextView.getLineCount());</span><br><span class="line">        <span class="keyword">int</span> padding = pTextView.getCompoundPaddingTop() + pTextView.getCompoundPaddingBottom();</span><br><span class="line">        <span class="keyword">return</span> desired + padding;</span><br><span class="line">    &amp;#125;</span><br></pre></td></tr></table></figure><p>当我们点击按钮的时候会执行一个动画，然后完全展示出来</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">showDetailButton.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &lt;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> &lt;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">                <span class="title">if</span><span class="params">(currentLines == LIMIT)</span> &lt;</span></span><br><span class="line"><span class="function">                    <span class="title">expand</span><span class="params">(contentView, THUMBNAIL, FULLSIZE)</span></span>;</span><br><span class="line">                &amp;#125; else &lt;</span><br><span class="line">                    expand(contentView, FULLSIZE, THUMBNAIL);</span><br><span class="line">                &amp;#125;</span><br><span class="line"></span><br><span class="line">                Animation animation = <span class="keyword">new</span> RotateAnimation(</span><br><span class="line">                        currentLines == LIMIT ? <span class="number">0</span> : <span class="number">180</span>,</span><br><span class="line">                        currentLines == LIMIT ? <span class="number">180</span> : <span class="number">360</span>,</span><br><span class="line">                        Animation.RELATIVE_TO_SELF,</span><br><span class="line">                        <span class="number">0.5f</span>,</span><br><span class="line">                        Animation.RELATIVE_TO_SELF,</span><br><span class="line">                        <span class="number">0.5f</span>);</span><br><span class="line"></span><br><span class="line">                animation.setDuration(<span class="number">300</span>);</span><br><span class="line">                animation.setFillAfter(<span class="keyword">true</span>);</span><br><span class="line">                showDetailButton.startAnimation(animation);</span><br><span class="line">                contentView.requestLayout();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            &amp;#125;</span><br><span class="line">        &amp;#125;);</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">expand</span><span class="params">(<span class="keyword">final</span> View v, <span class="keyword">final</span>  <span class="keyword">float</span> originHeight, <span class="keyword">final</span> <span class="keyword">float</span> targetHeight)</span> &lt;</span></span><br><span class="line"><span class="function">        Animation a </span>= <span class="keyword">new</span> Animation()&lt;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">applyTransformation</span><span class="params">(<span class="keyword">float</span> interpolatedTime, Transformation t)</span> &lt;</span></span><br><span class="line"><span class="function">                v.<span class="title">getLayoutParams</span><span class="params">()</span>.height </span>= (<span class="keyword">int</span>)(originHeight + (targetHeight - originHeight) * interpolatedTime);</span><br><span class="line">                v.requestLayout();</span><br><span class="line">            &amp;#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">willChangeBounds</span><span class="params">()</span> &lt;</span></span><br><span class="line"><span class="function">                return <span class="keyword">true</span></span>;</span><br><span class="line">            &amp;#125;</span><br><span class="line">        &amp;#125;;</span><br><span class="line"></span><br><span class="line">        a.setDuration(<span class="number">600</span>);</span><br><span class="line">        a.setFillAfter(<span class="keyword">true</span>);</span><br><span class="line">        a.setAnimationListener(<span class="keyword">new</span> Animation.AnimationListener() &lt;</span><br><span class="line">            <span class="keyword">private</span> <span class="keyword">boolean</span> maxLineDidSet = <span class="keyword">false</span>;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onAnimationStart</span><span class="params">(Animation animation)</span> &lt;</span></span><br><span class="line"><span class="function">                <span class="title">if</span><span class="params">(currentLines == Integer.MAX_VALUE)</span> &lt;</span></span><br><span class="line"><span class="function">                    currentLines </span>= LIMIT;</span><br><span class="line">                    desc.setMaxLines(currentLines);</span><br><span class="line">                    maxLineDidSet = <span class="keyword">true</span>;</span><br><span class="line">                &amp;#125;</span><br><span class="line"></span><br><span class="line">            &amp;#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onAnimationEnd</span><span class="params">(Animation animation)</span> &lt;</span></span><br><span class="line"><span class="function">                <span class="title">if</span><span class="params">(!maxLineDidSet &amp;&amp; currentLines == LIMIT)</span> &lt;</span></span><br><span class="line"><span class="function">                    currentLines </span>= Integer.MAX_VALUE;</span><br><span class="line">                    desc.setMaxLines(currentLines);</span><br><span class="line">                &amp;#125;</span><br><span class="line">            &amp;#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onAnimationRepeat</span><span class="params">(Animation animation)</span> &lt;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">            &amp;#125</span>;</span><br><span class="line">        &amp;#125;);</span><br><span class="line">        v.startAnimation(a);</span><br><span class="line">    &amp;#125;</span><br></pre></td></tr></table></figure><p>基本所有的代码都在这里了，主要就是一个内容区域的高度计算，一个动画的展示。不算完美的实现了展开更多的效果。</p><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android UI </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>iTerm新手必知</title>
      <link href="/2016/01/12/iTermConfiguration/"/>
      <url>/2016/01/12/iTermConfiguration/</url>
      <content type="html"><![CDATA[<p>使用Mac自家的终端，一般来说就够用了，但是扩展性有点差，而且还不美观，这时有人给我们做了一个好玩，好看而且功能完全媲美Mac本家的终端，那就是大名鼎鼎的<a href="https://www.iterm2.com/" target="_blank" rel="noopener">iTerm</a>然后配上<a href="https://github.com/robbyrussell/oh-my-zsh" target="_blank" rel="noopener">oh-my-zsh</a>。先来几幅图</p><a id="more"></a><p><img src="http://ww4.sinaimg.cn/mw690/005yqym4gw1f1o5ncfr6vj318g0x67ah.jpg" alt=""><br>看到这些图，是不是被它的美震撼了啊，反正我是。<br>下面说说他为什么值得我们去说。安装下载这里就不说了。</p><p><strong>配色惊艳</strong><br>配色方案全在这里<a href="https://github.com/mbadolato/iTerm2-Color-Schemes" target="_blank" rel="noopener">iTerm2-Color-Schemes</a><br>打开偏好设置，找到这两个地方</p><p><img src="http://ww4.sinaimg.cn/mw690/005yqym4gw1f1o5ptt0etj31fc0kate8.jpg" alt=""></p><p>先在配色方案里面找到自己喜欢的一种，然后要把上图中Type一定改为－new类型的。</p><p><img src="http://ww2.sinaimg.cn/mw690/005yqym4gw1f1o5qsvxuvj31eo0skn2w.jpg" alt=""></p><p>然后找到colors选项，选自己喜欢的，即选即预览。<br><strong>快捷键，插件的强大</strong></p><p>首先他的选中即复制就很强大，偶尔一次的ctrl＋c，按成了ctrl＋v，惊人的效果出现，竟然把我选中的东东复制粘贴了在后面。<br>在偏好设置中的keys选项就是所有的快捷键，插件在推荐文章里面有</p><p><img src="http://ww1.sinaimg.cn/mw690/005yqym4gw1f1o5t7ml4kj30i00nuq58.jpg" alt=""></p><p>一些常用的。</p><p><strong>视觉美</strong><br>最上面的两幅图是不是很惊艳，但是他可以弄出你自己想要的效果，具体在这里。<br>将iTerm2背景设为半透明</p><p><img src="http://ww4.sinaimg.cn/mw690/005yqym4gw1f1o5s6qy8dj31eu0hujvv.jpg" alt=""></p><p>将iTerm2全屏呈现在窗口之上</p><p><img src="http://ww1.sinaimg.cn/mw690/005yqym4gw1f1o5u6436bj30jw0qyq6y.jpg" alt=""></p><p>这里说下第二幅图什么意思，就是当前不管你在浏览什么窗口，只要你设置了快捷键，按下就会出现，比如我这个，我在AS的界面，但是我想查点什么东西，按下command＋\键，就会浮现在桌面的最顶端。<br><a href="https://github.com/zsh-users/zsh-autosuggestions" target="_blank" rel="noopener">命令行提示</a><br>演示效果<br><img src="http://ww4.sinaimg.cn/large/005yqym4gw1f4l9r2i8vxg30c609675x.gif" alt=""></p><p>在下面的推荐文章你还会找到一个命令行提示的，自行挖掘把，嘿嘿</p><blockquote><p>推荐文章<br><a href="http://zhuanlan.zhihu.com/mactalk/19556676" target="_blank" rel="noopener">终极 Shell——ZSH - MacTalk - 知乎专栏</a><br><a href="http://www.yangzhiping.com/tech/zsh-oh-my-zsh.html" target="_blank" rel="noopener">zsh与oh-my-zsh的区别</a><br><a href="http://yijiebuyi.com/blog/e310fc437f32006eb6aa42cad1783587.html" target="_blank" rel="noopener">mac下非常好用的命令行工具 iTerm2</a></p></blockquote><hr><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> 工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> iTerm配置 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>AndroidStudio导项目时的一些问题</title>
      <link href="/2016/01/11/AndroidStudioGradleIssue/"/>
      <url>/2016/01/11/AndroidStudioGradleIssue/</url>
      <content type="html"><![CDATA[<p>这里陆陆续续的收录一些关于AS的问题。<br>今天在GitHub上面发现一个好的项目，导入到AS里面竟发现不能运行，报的错误也是千奇百怪，<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Error:Execution failed <span class="keyword">for</span> task <span class="string">':app:transformResourcesWithMergeJavaResForDebug'</span>. &gt; com.android.build.api.transform.TransformException: com.android.builder.packaging.DuplicateFileException: Duplicate files copied in APK META-INF/NOTICE</span><br></pre></td></tr></table></figure></p><a id="more"></a><p>有这么一排错误，Google了半天，要这样做，在你的gradle中加入<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">packagingOptions &amp;#123;</span><br><span class="line">    exclude <span class="string">'META-INF/DEPENDENCIES.txt'</span></span><br><span class="line">    exclude <span class="string">'META-INF/LICENSE.txt'</span></span><br><span class="line">    exclude <span class="string">'META-INF/NOTICE.txt'</span></span><br><span class="line">    exclude <span class="string">'META-INF/NOTICE'</span></span><br><span class="line">    exclude <span class="string">'META-INF/LICENSE'</span></span><br><span class="line">    exclude <span class="string">'META-INF/DEPENDENCIES'</span></span><br><span class="line">    exclude <span class="string">'META-INF/notice.txt'</span></span><br><span class="line">    exclude <span class="string">'META-INF/license.txt'</span></span><br><span class="line">    exclude <span class="string">'META-INF/dependencies.txt'</span></span><br><span class="line">    exclude <span class="string">'META-INF/LGPL2.1'</span></span><br><span class="line">&amp;#125;</span><br></pre></td></tr></table></figure></p><p>还有一个问题如果你想在API23中使用AndroidHttpClient，必须要这么做。在你的build.gradle中加入<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">android &amp;#123;</span><br><span class="line">    useLibrary <span class="string">'org.apache.http.legacy'</span></span><br><span class="line">&amp;#125;</span><br></pre></td></tr></table></figure></p><p>因为Android 6.0已经废弃了支持Apache HTTP client. 官方不建议使用了，如果迫不得已使用，加上那个就好了。</p><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AndroidStudio </tag>
            
            <tag> 工程导入 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>用MaterDesign设计一个详情页面</title>
      <link href="/2016/01/09/MaterDesignDemo/"/>
      <url>/2016/01/09/MaterDesignDemo/</url>
      <content type="html"><![CDATA[<p><img src="http://ww1.sinaimg.cn/thumbnail/005yqym4gw1f06wyak50sg30h60pck93.gif" alt=""></p><p>我们要实现的效果就是gif的那种效果，MaterDesign完美实现这个功能，下面我们一起来看看。<br><a id="more"></a><br>在写代码之前记得在你的gradle里面加上这么两行</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">compile <span class="string">'com.android.support:appcompat-v7:23.1.1'</span></span><br><span class="line">compile <span class="string">'com.android.support:design:23.1.1'</span></span><br></pre></td></tr></table></figure><p>然后就可以在Xml里面写自己的布局了，先上代码，再解释属性。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line">&lt;android.support.design.widget.CoordinatorLayout</span><br><span class="line">    xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    xmlns:app=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span><br><span class="line">    xmlns:tools=<span class="string">"http://schemas.android.com/tools"</span></span><br><span class="line">    android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">    android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">    android:fitsSystemWindows=<span class="string">"true"</span></span><br><span class="line">    tools:context=<span class="string">"com.android.demo.MainActivity"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;android.support.design.widget.AppBarLayout</span><br><span class="line">        android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_height=<span class="string">"256dp"</span></span><br><span class="line">        android:fitsSystemWindows=<span class="string">"true"</span></span><br><span class="line">        android:theme=<span class="string">"@style/ThemeOverlay.AppCompat.Dark.ActionBar"</span></span><br><span class="line">        &gt;</span><br><span class="line"></span><br><span class="line">        &lt;android.support.design.widget.CollapsingToolbarLayout</span><br><span class="line">            android:id=<span class="string">"@+id/collapsing_toolbar"</span></span><br><span class="line">            android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">            android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">            android:fitsSystemWindows=<span class="string">"true"</span></span><br><span class="line">            app:contentScrim=<span class="string">"@color/colorPrimary"</span></span><br><span class="line">            app:layout_scrollFlags=<span class="string">"scroll|exitUntilCollapsed"</span></span><br><span class="line">            app:expandedTitleMargin=<span class="string">"20dp"</span></span><br><span class="line">            &gt;</span><br><span class="line"></span><br><span class="line">            &lt;ImageView</span><br><span class="line">                android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">                android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">                android:fitsSystemWindows=<span class="string">"true"</span></span><br><span class="line">                android:scaleType=<span class="string">"centerCrop"</span></span><br><span class="line">                android:src=<span class="string">"@mipmap/a14"</span></span><br><span class="line">                app:layout_collapseMode=<span class="string">"parallax"</span></span><br><span class="line">                app:layout_collapseParallaxMultiplier=<span class="string">"0.7"</span></span><br><span class="line"></span><br><span class="line">                /&gt;</span><br><span class="line"></span><br><span class="line">            &lt;android.support.v7.widget.Toolbar</span><br><span class="line">                android:id=<span class="string">"@+id/toolbar"</span></span><br><span class="line">                android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">                android:layout_height=<span class="string">"50dp"</span></span><br><span class="line">                app:layout_collapseMode=<span class="string">"pin"</span></span><br><span class="line">                app:popupTheme=<span class="string">"@style/ThemeOverlay.AppCompat.Light"</span></span><br><span class="line">                &gt;</span><br><span class="line"></span><br><span class="line">            &lt;/android.support.v7.widget.Toolbar&gt;</span><br><span class="line">        &lt;/android.support.design.widget.CollapsingToolbarLayout&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;/android.support.design.widget.AppBarLayout&gt;</span><br><span class="line"></span><br><span class="line">    &lt;LinearLayout</span><br><span class="line">        android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">        android:orientation=<span class="string">"vertical"</span></span><br><span class="line">        app:layout_behavior=<span class="string">"@string/appbar_scrolling_view_behavior"</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;android.support.design.widget.TabLayout</span><br><span class="line">            android:id=<span class="string">"@+id/sliding_tabs"</span></span><br><span class="line">            android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">            android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">            app:tabGravity=<span class="string">"fill"</span></span><br><span class="line">            app:tabIndicatorColor=<span class="string">"@color/colorPrimary"</span></span><br><span class="line">            app:tabSelectedTextColor=<span class="string">"@color/colorAccent"</span></span><br><span class="line">            app:tabMode=<span class="string">"fixed"</span> /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;android.support.v4.view.ViewPager</span><br><span class="line">            android:id=<span class="string">"@+id/viewpager"</span></span><br><span class="line">            android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">            android:layout_height=<span class="string">"match_parent"</span> /&gt;</span><br><span class="line">    &lt;/LinearLayout&gt;</span><br><span class="line"></span><br><span class="line">&lt;/android.support.design.widget.CoordinatorLayout&gt;</span><br></pre></td></tr></table></figure><p>在上面的gif中我们看到的，如果要给ToolBar的返回箭头改颜色的话，直接在AppBarLayout中把theme改掉就好了。</p><p>如果要改页面收缩之后的ToolBar背景色，直接在CollapsingToolbarLayout中把app:contentScrim中颜色改成自己想要的就好。</p><p>下面的TabLayout选择，如果你想改文字颜色和下划线的颜色，直接把TabLayout中的<br><code>app:tabIndicatorColor=&quot;@color/colorPrimary&quot; app:tabSelectedTextColor=&quot;@color/colorAccent&quot;</code><br> 里面的颜色改成自己的就好。</p><p><code>app:layout_scrollFlags=”scroll|exitUntilCollapsed”</code><br>这是两个Flag控制滚动时候CollapsingToolbarLayout的表现。 Scroll，表示向下滚动列表时候，CollapsingToolbarLayout会滚出屏幕并且消失,想滚动必须设置这个；<br>exitUntilCollapsed，表示这个layout会一直滚动离开屏幕范围，直到它收缩成它的最小高度。<br>enterAlwaysCollapsed - 当你的View已经设置minHeight属性又使用此标志时，你的View只能以最小高度进入，只有当滚动视图到达顶部时才扩大到完整高度。</p><p><code>app:layout_collapseMode=”parallax”</code><br>设置视差模式。给你想要给用户造成时差效果，给控件加上这个就好。parallax，表示滚动过程中,会一直保持可见区域在正中间；<br>pin，表示不会被滚出屏幕范围。也可以设置视差的系数</p><p><code>app:layout_collapseParallaxMultiplier=”0.7”，</code><br>设置时差滚动因子，介于 0.0-1.0之间</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">app:expandedTitleMargin</span><br><span class="line">app:expandedTitleMarginBottom</span><br><span class="line">app:expandedTitleMarginEnd</span><br><span class="line">app:expandedTitleMarginStart</span><br></pre></td></tr></table></figure><p>设置展开状态标题文字的位置</p><p>在你要实现上推布局效果的地方加上这句，必须要有，<br><code>app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;</code></p><p>下面来看一下Java代码中又有哪些好玩的东西。<br>想要显示ToolBar，并让他起作用，就要这样<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);</span><br><span class="line">       setSupportActionBar(toolbar);</span><br><span class="line">       getSupportActionBar().setDisplayHomeAsUpEnabled(<span class="keyword">true</span>);</span><br><span class="line">       <span class="comment">//添加返回事件</span></span><br><span class="line">       toolbar.setNavigationOnClickListener(new View.OnClickListener() &amp;#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> &amp;#123</span>;</span><br><span class="line">               onBackPressed();</span><br><span class="line">           &amp;#125;</span><br><span class="line">       &amp;#125;);</span><br></pre></td></tr></table></figure></p><p>这里千万不要把显示的文字加在了ToolBar上面，实际上是加在CollapsingToolbarLayout上面的，下面看一下。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> CollapsingToolbarLayout collapsingToolbar = (CollapsingToolbarLayout) findViewById(R.id.collapsing_toolbar);</span><br><span class="line"> <span class="comment">//设置收缩后显示文字颜色</span></span><br><span class="line">collapsingToolbar.setCollapsedTitleTextColor(Color.WHITE);</span><br><span class="line"><span class="comment">//设置展开时文字的颜色</span></span><br><span class="line">collapsingToolbar.setExpandedTitleColor(Color.BLUE);</span><br><span class="line">collapsingToolbar.setTitle(<span class="string">"Show Title"</span>);</span><br></pre></td></tr></table></figure><p>下面的TabLayout结合ViewPager应该就很简单了<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> TabLayout tabLayout = (TabLayout) findViewById(R.id.sliding_tabs);</span><br><span class="line"> <span class="comment">//设置每个Tab的显示文字</span></span><br><span class="line">tabLayout.addTab(tabLayout.newTab().setText(<span class="string">"内容简介"</span>));</span><br><span class="line">tabLayout.addTab(tabLayout.newTab().setText(<span class="string">"作者简介"</span>));</span><br><span class="line">tabLayout.addTab(tabLayout.newTab().setText(<span class="string">"目录"</span>));</span><br><span class="line">tabLayout.setupWithViewPager(mViewPager);</span><br></pre></td></tr></table></figure></p><p>TabLayout上面的文字大小，位置，都可以在xml里面设置的。</p><p>配合Viewpager使用就要加上tabLayout.setupWithViewPager(mViewPager)这句话。</p><p>如果有啥不对的地方，希望大家在下面指出，一起学习。<br>晚安！</p><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android UI </tag>
            
            <tag> MaterDesign </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>用TextInputLayout打造友好的Login页面</title>
      <link href="/2016/01/07/PerfectLoginActivity/"/>
      <url>/2016/01/07/PerfectLoginActivity/</url>
      <content type="html"><![CDATA[<p>看下面的gif是不是感觉比一般的登陆页面要人性化的多啊，App除了数据是活的，界面在我们的手中也要动起来，今天一起来实现一个这样的友好的Login界面。<br> <a id="more"></a></p><p><img src="http://ww2.sinaimg.cn/mw690/005yqym4gw1f1o628jlh7g30ax0jwwuo.gif" alt=""></p><p>上面的两个实际上就是我们平时用的EditText，不一样的是我们给EditText又穿了一件花衣裳，他才会变成这样<br><code>android.support.design.widget.TextInputLayout</code><br>写到这里你有可能知道了，想用这个你要在你的gradle中引入<br><code>compile &#39;com.android.support:design:23.1.1&#39;</code>。<br>就好了<br>来看布局代码</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;android.support.design.widget.TextInputLayout</span><br><span class="line">      android:id=<span class="string">"@+id/emailView"</span></span><br><span class="line">      android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">      android:layout_height=<span class="string">"wrap_content"</span>&gt;</span><br><span class="line"></span><br><span class="line">      &lt;EditText</span><br><span class="line">          android:id=<span class="string">"@+id/emailEt"</span></span><br><span class="line">          android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">          android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">          android:hint=<span class="string">"UserName"</span></span><br><span class="line">          android:inputType=<span class="string">"textEmailAddress"</span> /&gt;</span><br><span class="line">&lt;/android.support.design.widget.TextInputLayout&gt;</span><br></pre></td></tr></table></figure><p>就这么简单，文章都在java代码，我们来实现它。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">TextInputLayout tl_email = (TextInputLayout) findViewById(R.id.emailView);</span><br><span class="line">tl_username.setHint(<span class="string">"请输入正确的邮箱地址"</span>);</span><br><span class="line"><span class="comment">//点击登录按钮</span></span><br><span class="line">findViewById(R.id.btn).setOnClickListener(new View.OnClickListener() &amp;#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> &amp;#123</span>;</span><br><span class="line">                String email = tl_username.getEditText().getText().toString().trim();</span><br><span class="line">                <span class="comment">//正则匹配邮箱地址</span></span><br><span class="line">                if (!validateEmail(email)) &amp;#123;</span><br><span class="line">                <span class="comment">//友好的错误提示</span></span><br><span class="line">                    tl_username.setError(<span class="string">"The emailAddress error"</span>);</span><br><span class="line">                &amp;#125;else &amp;#123;</span><br><span class="line">                   <span class="comment">//将错误提示关掉</span></span><br><span class="line">                   tl_username.setErrorEnabled(<span class="keyword">false</span>);</span><br><span class="line">                   <span class="comment">//执行登录操作</span></span><br><span class="line">                    doLogin();</span><br><span class="line">                &amp;#125;</span><br><span class="line">            &amp;#125;</span><br><span class="line">        &amp;#125;);  </span><br><span class="line">        </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doLogin</span><span class="params">()</span>&amp;#123</span>;</span><br><span class="line">  <span class="comment">//下方提示登录成功，第一个参数为父布局就好</span></span><br><span class="line">  Snackbar.make(parentView, <span class="string">"Login Sucess"</span>, </span><br><span class="line">  Snackbar.LENGTH_SHORT).setAction(<span class="string">"login Sucess"</span>, <span class="keyword">null</span>).show();</span><br><span class="line">   &amp;#125;</span><br></pre></td></tr></table></figure><p>你可以试一试</p><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AndroidUI </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Android猿猿们的福利</title>
      <link href="/2015/12/26/OutstandingBooks/"/>
      <url>/2015/12/26/OutstandingBooks/</url>
      <content type="html"><![CDATA[<p><img src="http://ww4.sinaimg.cn/large/005yqym4gw1f1og1i2afzg30os09xjzz.gif" alt="Google小游戏"></p><p>可能大多数的人都用的惯Google，但是当没有网络的时候，Google也给我们调了一个皮，当你不经意间按下Space键，奇迹的事情发生了，嘿嘿，无聊吧！</p><p>年末了，下面分享一下今年我收藏的书吧。</p><a id="more"></a><p>&lt; stream /&gt;<br>&lt; figure <a href="https://img3.doubanio.com/lpic/s27243455.jpg" target="_blank" rel="noopener">https://img3.doubanio.com/lpic/s27243455.jpg</a> <a href="http://item.jd.com/10058164.html" target="_blank" rel="noopener">Java编程思想</a> /&gt;&lt; endstream /&gt;<br><em>有一定的java基础，学好android事半功倍，java不好的android程序员不是好工程师。所以这本java圣经推荐大家一看。</em></p><p>&lt; stream /&gt;<br>&lt; figure <a href="https://img3.doubanio.com/lpic/s28351121.jpg" target="_blank" rel="noopener">https://img3.doubanio.com/lpic/s28351121.jpg</a> <a href="http://item.jd.com/11504254.html" target="_blank" rel="noopener">第一行代码</a> /&gt;&lt; endstream /&gt;<br><em>郭霖大大的这本《第一行代码》，乃android入门必备，android圣经级的，时不时的翻一翻，会有意想不到的收获。</em><br>&lt; stream /&gt;<br>&lt; figure <a href="https://img3.doubanio.com/lpic/s28283342.jpg" target="_blank" rel="noopener">https://img3.doubanio.com/lpic/s28283342.jpg</a> <a href="http://item.jd.com/11758334.html" target="_blank" rel="noopener">Android群英传</a> /&gt;&lt; endstream /&gt;<br><em>如果你想在android界自定义View有一席之地，“医生”的这本《群英传》非你莫属。</em></p><p>&lt; stream /&gt;<br>&lt; figure <a href="https://img3.doubanio.com/lpic/s28283341.jpg" target="_blank" rel="noopener">https://img3.doubanio.com/lpic/s28283341.jpg</a> <a href="http://item.jd.com/11760209.html" target="_blank" rel="noopener">Android开发艺术探索</a> /&gt;&lt; endstream /&gt;<br><em>如果你不想在android界平庸，那么“主席”的这本的《艺术探索》，是祝你走向人生的巅峰，赢取白富美的必经之路。</em></p><p>&lt; stream /&gt;<br>&lt; figure <a href="https://img3.doubanio.com/lpic/s28320163.jpg" target="_blank" rel="noopener">https://img3.doubanio.com/lpic/s28320163.jpg</a> <a href="http://item.jd.com/11793928.html" target="_blank" rel="noopener">Android 源码设计模式解析与实战</a> /&gt;&lt; endstream /&gt;<br><em>如果你在android界有啥深入的疑惑，那么SM哥的这本《源码设计模式》你有必要看看了。</em></p><p>&lt; stream /&gt;<br>&lt; figure <a href="https://img3.doubanio.com/lpic/s28333166.jpg" target="_blank" rel="noopener">https://img3.doubanio.com/lpic/s28333166.jpg</a> <a href="http://item.jd.com/11791229.html" target="_blank" rel="noopener">App研发录：架构设计、Crash分析和竞品技术分析</a> /&gt;&lt; endstream /&gt;<br><em>一些平时看起来不起眼的小地方，却被作者写的如此“惟妙惟肖”。</em></p><p>&lt; stream /&gt;<br>&lt; figure <a href="https://img3.doubanio.com/lpic/s4157180.jpg" target="_blank" rel="noopener">https://img3.doubanio.com/lpic/s4157180.jpg</a> <a href="http://item.jd.com/11728740.html" target="_blank" rel="noopener">重构</a> /&gt;&lt; endstream /&gt;<br><em>如果你对你自己或者别人的代码有啥意见，但是又不敢轻易的去乱动，那么这本《重构》，你要时刻拜读了。</em></p><p>&lt; stream /&gt;<br>&lt; figure <a href="https://img1.doubanio.com/lpic/s6263257.jpg" target="_blank" rel="noopener">https://img1.doubanio.com/lpic/s6263257.jpg</a> <a href="http://www.amazon.cn/%E7%A0%94%E7%A3%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%99%88%E8%87%A3/dp/B009P4OESG/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1459927554&amp;sr=1-1&amp;keywords=%E7%A0%94%E7%A3%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F" target="_blank" rel="noopener">研磨设计模式</a> /&gt;&lt; endstream /&gt;</p><hr><p>2016年刚刚入手的几本书。</p><p>&lt; stream /&gt;<br>&lt; figure <a href="https://img3.doubanio.com/lpic/s27283822.jpg" target="_blank" rel="noopener">https://img3.doubanio.com/lpic/s27283822.jpg</a> <a href="https://www.amazon.cn/%E5%9B%BE%E4%B9%A6/dp/B00JTQK1L4?ie=UTF8&amp;ref_=ox_ya_os_product" target="_blank" rel="noopener">图解HTTP</a> /&gt;&lt; endstream /&gt;</p><p>&lt; stream /&gt;<br>&lt; figure <a href="https://img1.doubanio.com/lpic/s27653128.jpg" target="_blank" rel="noopener">https://img1.doubanio.com/lpic/s27653128.jpg</a> <a href="https://www.amazon.cn/%E5%9B%BE%E4%B9%A6/dp/B00P6OJ09C?ie=UTF8&amp;ref_=ox_ya_os_product" target="_blank" rel="noopener">数学之美</a> /&gt;<br>&lt; endstream /&gt;</p><p>&lt; stream /&gt;<br>&lt; figure <a href="https://img3.doubanio.com/lpic/s28508155.jpg" target="_blank" rel="noopener">https://img3.doubanio.com/lpic/s28508155.jpg</a> <a href="https://www.amazon.cn/%E5%9B%BE%E4%B9%A6/dp/B01C7I1NZS?ie=UTF8&amp;ref_=ox_ya_os_product" target="_blank" rel="noopener">Android开发进阶_从小公到专家</a> /&gt;&lt; endstream /&gt;</p><p>&lt; stream /&gt;<br>&lt; figure <a href="https://img1.doubanio.com/lpic/s26676928.jpg" target="_blank" rel="noopener">https://img1.doubanio.com/lpic/s26676928.jpg</a> <a href="https://www.amazon.cn/%E5%9B%BE%E4%B9%A6/dp/B00DMS9990?ie=UTF8&amp;ref_=ox_ya_os_product" target="_blank" rel="noopener">图解TCP/IP</a> /&gt;<br>&lt; endstream /&gt;</p><p>&lt; stream /&gt;<br>&lt; figure <a href="https://img1.doubanio.com/lpic/s27259607.jpg" target="_blank" rel="noopener">https://img1.doubanio.com/lpic/s27259607.jpg</a> <a href="https://www.amazon.cn/%E5%9B%BE%E4%B9%A6/dp/B00J91AF9C?ie=UTF8&amp;ref_=ox_ya_os_product" target="_blank" rel="noopener">Android开发必知的50个诀窍</a> /&gt;&lt; endstream /&gt;<br>还没怎么看，但都是很赞的书哦！！</p><p><em>下面推荐几本最开始看的非技术的书籍，也是兴致勃勃的把它一点点的读完的几本书</em></p><p>&lt; stream /&gt;<br>&lt; figure <a href="https://img3.doubanio.com/lpic/s28409836.jpg" target="_blank" rel="noopener">https://img3.doubanio.com/lpic/s28409836.jpg</a> <a href="http://item.jd.com/11398297.html" target="_blank" rel="noopener">MacTalk人生元编程</a> /&gt;&lt; endstream /&gt;<br><em>池大大的macTalk，也正是看完这本书，才有了我的第一台Mac，不知道你们有没有看，看完有没有冲动，反正我感觉很神奇。</em></p><p>&lt; stream /&gt;<br>&lt; figure <a href="https://img3.doubanio.com/lpic/s27932441.jpg" target="_blank" rel="noopener">https://img3.doubanio.com/lpic/s27932441.jpg</a> <a href="http://item.jd.com/11253183.html" target="_blank" rel="noopener">浪潮之巅（第2版）（套装上下册）</a> /&gt;<br>&lt; endstream /&gt;<br><em>吴军大大《浪潮之巅》《数学之美》《硅谷之谜》，《大学之路》，《文明之光》，套书系列，有幸在年初的时候把浪潮看完了，完美的IT历史教科书。</em></p><p>今年业界最良心的Android开发书籍，基本都在上面了，各位小伙伴各取所需，一定有你需要的地方，把他们请回家，不是让他们睡大觉的，实践是检验真理的唯一标准，一定要看，（虽然我还看的不多😄，2016的计划）</p><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android开发必备书籍 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>AndroidStudio快速生成常用模板</title>
      <link href="/2015/12/19/AndroidStudioTemp/"/>
      <url>/2015/12/19/AndroidStudioTemp/</url>
      <content type="html"><![CDATA[<p>从刚开始用AS的时候，还有一丝的Eclipse的味道，但是有一些在Ec上面很方便的东西，在AS上面却一无所措了，比如之前在Ec上面的syso输出的便是System.out.println();然而在AS上面他却没有这么干，而是用sout来输出，今天就带着这个疑惑，这个东西我们从那可以找到并修改成我们熟知的那？<a id="more"></a></p><p>当你知道了就很简单了，打开AS，打开设置页面，找到Editor，下面的Live Templates</p><p><img src="http://ww4.sinaimg.cn/mw690/005yqym4gw1f1o7pch8k6j31480h50wv.jpg" alt=""></p><p>你想知道的全在这里面，图中我选中的就是我们经常用到的Toast，我把他改成了tst，我们只要在代码中输入tst，即可出来下面的Template text中生成的一句代码，还有我们经常用的findViewById等等，你可以一个个点开，看看他的描述，然后加上自己的熟悉的快捷短语即可。</p><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> AndroidStudio </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AndroidStudio小技巧 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>判断App是否在模拟器上运行</title>
      <link href="/2015/12/16/isRunningInEmualtor/"/>
      <url>/2015/12/16/isRunningInEmualtor/</url>
      <content type="html"><![CDATA[<p>我们之前看友盟的统计，发现有一些bug，都是在模拟器类型报的错，我们干脆就不让在模拟器安装了，下面我们来看一下。</p><a id="more"></a><p>首先我们来看一下Runtime这个类，他是一个与JVM运行时环境有关的类，这个类是Singleton的。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Allows Java applications to <span class="class"><span class="keyword">interface</span> <span class="title">with</span> <span class="title">the</span> <span class="title">environment</span> <span class="title">in</span> <span class="title">which</span> <span class="title">they</span> <span class="title">are</span> <span class="title">running</span>. <span class="title">Applications</span> <span class="title">can</span> <span class="title">not</span> <span class="title">create</span> <span class="title">an</span> <span class="title">instance</span> <span class="title">of</span> <span class="title">this</span> <span class="title">class</span>, <span class="title">but</span> <span class="title">they</span> <span class="title">can</span> <span class="title">get</span> <span class="title">a</span> <span class="title">singleton</span> <span class="title">instance</span> <span class="title">by</span> <span class="title">invoking</span> <span class="title">getRuntime</span>().</span></span><br></pre></td></tr></table></figure></p><p>上面是在developer上面摘的<a href="http://developer.android.com/reference/java/lang/Runtime.html" target="_blank" rel="noopener">Runtime</a>.</p><p>这里面有这么几个重要方法，exec(),gc(),getRuntime(),maxMemory(),exit()等等，我们今天主要看exec方法,exec有六个重载。也就是我们今天要看的。</p><p>如果想与调用的程序进行交互，那么就要使用该方法的返回对象Process了，通过Process的getInputStream()，getOutputStream()和getErrorStream()方法可以得到输入输出流，然后通过InputStream可以得到程序对控制台的输出信息，通过OutputStream可以给程序输入指令,这样就达到了程序的交换功能。</p><p>先来上代码，光说理论就没意思了。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 判断是否在模拟器上运行</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isRunningInEmualtor</span><span class="params">()</span> &amp;#123</span>;</span><br><span class="line"><span class="keyword">boolean</span> quemuKernel = <span class="keyword">false</span>;</span><br><span class="line">Process process = <span class="keyword">null</span>;</span><br><span class="line">DataOutputStream os = <span class="keyword">null</span>;</span><br><span class="line">BufferedReader in = <span class="keyword">null</span>;</span><br><span class="line">try &amp;#123;</span><br><span class="line">process = Runtime.getRuntime().exec(<span class="string">".\\a.exe"</span>);</span><br><span class="line">os = <span class="keyword">new</span> DataOutputStream(process.getOutputStream());</span><br><span class="line">in = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(</span><br><span class="line">process.getInputStream(), <span class="string">"GBK"</span>));</span><br><span class="line">os.writeBytes(<span class="string">"exit\n"</span>);</span><br><span class="line">os.flush();</span><br><span class="line">process.waitFor();</span><br><span class="line">quemuKernel = (Integer.parseInt(in.readLine()) == <span class="number">1</span>);</span><br><span class="line">&amp;#125; catch (Exception e) &amp;#123;</span><br><span class="line">quemuKernel = <span class="keyword">false</span>;</span><br><span class="line">&amp;#125; finally &amp;#123;</span><br><span class="line">if (process != null) &amp;#123;</span><br><span class="line">process.destroy();</span><br><span class="line">process = <span class="keyword">null</span>;</span><br><span class="line">&amp;#125;</span><br><span class="line">if (in != null) &amp;#123;</span><br><span class="line">try &amp;#123;</span><br><span class="line">in.close();</span><br><span class="line">&amp;#125; catch (IOException e) &amp;#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&amp;#125;</span><br><span class="line">in = <span class="keyword">null</span>;</span><br><span class="line">&amp;#125;</span><br><span class="line">if (os != null) &amp;#123;</span><br><span class="line">try &amp;#123;</span><br><span class="line">os.close();</span><br><span class="line">os = <span class="keyword">null</span>;</span><br><span class="line">&amp;#125; catch (Exception e) &amp;#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&amp;#125;</span><br><span class="line">&amp;#125;</span><br><span class="line">&amp;#125;</span><br><span class="line"><span class="keyword">return</span> quemuKernel;</span><br><span class="line">&amp;#125;</span><br></pre></td></tr></table></figure><p>第一行的“.\a.exe”是要执行的程序名，Runtime.getRuntime()返回当前应用程序的Runtime对象，该对象的exec()方法指示Java虚拟机创建一个子进程执行指定的可执行程序，并返回与该子进程对应的Process对象实例。通过Process可以控制该子进程的执行或获取该子进程的信息。</p><p>上面这个代码直接拿着用就好，然后把执行的程序名换成自己的就好。<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">if (Utils.isRunningInEmualtor()) &amp;#123;</span><br><span class="line">           Toast.makeText(IgniteApplication.getInstance(), <span class="string">"我们不支持在模拟器上运行哦"</span>,</span><br><span class="line">                   Toast.LENGTH_SHORT).show();</span><br><span class="line">           finish();</span><br><span class="line">           <span class="keyword">return</span>;</span><br><span class="line">       &amp;#125;</span><br></pre></td></tr></table></figure></p><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android奇技淫巧 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>多渠道打包那些事</title>
      <link href="/2015/12/03/AndroidMultiChannelBuild/"/>
      <url>/2015/12/03/AndroidMultiChannelBuild/</url>
      <content type="html"><![CDATA[<p>最近在AndroidStudio上进行多渠道打包，虽然渠道包不多，但是手动打包，一向很懒的程序员往往是不会干的，好的工具都是懒人创造出来的。<a id="more"></a><br>之前就看过<a href="http://stormzhang.com/devtools/2015/01/15/android-studio-tutorial6/" target="_blank" rel="noopener">stormzhang</a>关于多渠道打包的那些事，但是每个公司的渠道不一样，有各种各样的渠道号，今天就被两种给搞的一直编译不过。原来是这样.<br>如果你的渠道号中有360，91这一类，那么你的productFlavors里面的配置就要这样，渠道前面加_</p><p><code>_360 &lt;&amp;#125;</code></p><p>如果你的渠道号中有这么一类，abc.bug,那么你就要这样写</p><p><code>&quot;abc.bug &lt;&amp;#125;&quot;</code></p><p>还有就是刚开始的时候打包成功，但是上传到各大AppMarket的时候，提示此App未签名。有一个地方一定要写上，stormzhang上面也有，但是这里重点提醒一下</p><p><code>signingConfig signingConfigs.release</code></p><p>就是这句一定要加上，不然虽然包能打出来，但是是无效的。</p><p><strong>版权声明：</strong><br></p><p><hr><br>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。<br></p>]]></content>
      
      <categories>
          
          <category> AndroidStudio </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 多渠道打包 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>AtomPlugins</title>
      <link href="/2015/12/01/AtomPlugins/"/>
      <url>/2015/12/01/AtomPlugins/</url>
      <content type="html"><![CDATA[<p><img src="http://p3.pstatp.com/large/9886/4894135853" alt=""><br><img src="http://p3.pstatp.com/large/9883/6840572285" alt=""><br>想必这两幅图大家一定很熟悉吧，最近在朋友圈，微博上面他可是没少出现，一个Atom编辑器的插件，很6，今天装了一下，自我感觉不是我的菜。。。平时玩玩还可以。。很简单，跟我一起来</p><a id="more"></a><p>如果你的电脑上面没有Atom这款编辑器的，到<a href="https://atom.io/" target="_blank" rel="noopener">Atom官网自行下载</a>，选择适合自己的版本下载即可。<br>这里我只介绍Mac上面的安装，其他出问题概不负责，哈哈。Atom安装完成之后，我们就要安装插件了，安装之前首先你电脑上面要安装git，mac就不说了，你懂的，windows上面没有的小伙伴可以看这里<br><a href="http://jingyan.baidu.com/article/7f766dafba84f04101e1d0b0.html" target="_blank" rel="noopener">git安装教程</a>。下面开始安装插件，找到.atom的文件夹，这是一个隐藏文件，你可以用命令行显示所有隐藏文件，亦或直接终端定位到这个文件夹，然后执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/JoelBesada/activate-power-mode.git</span><br><span class="line">cd activate-power-mode</span><br><span class="line">apm insatll</span><br><span class="line">apm ls #检测是否成功</span><br></pre></td></tr></table></figure></p><p>这样重启我们的Atom，然后control+aption+o打开这个插件的开关，如果点玩之后发现右上角出现错误，而且没有任何效果<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">At Cannot find module &apos;lodash.throttle&apos;</span><br><span class="line">Error: Cannot find module &apos;lodash.throttle&apos;</span><br><span class="line">    at Module._resolveFilename (module.js:336:15)</span><br><span class="line">    at Function.Module._resolveFilename (F:\atom\Atom Beta\resources\app.asar\src\module-cache.js:383:52)</span><br><span class="line">    at Function.Module._load (module.js:286:25)</span><br><span class="line">    at Module.require (module.js:365:17)</span><br><span class="line">    ......</span><br></pre></td></tr></table></figure></p><p>是这样的说明你的lodash.throttle依赖没有安装，我刚开始的时候就是出现这个问题。直接进到这个package目录，执行下列命令<br><code>npm install lodash.throttle</code></p><p>即可。<br>话说这个Atom很占内存啊，之前一直用的Sublimtext，之后可能还会继续用，但是这里还是要感谢这位牛逼的插件作者，写个代码也得写得这么轰动。。。要是As上面支持就好了。。。（后续应该会有吧）哈哈</p>]]></content>
      
      <categories>
          
          <category> 工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Atom插件 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>简单的View冲突事件处理</title>
      <link href="/2015/11/30/android-view-listen-event/"/>
      <url>/2015/11/30/android-view-listen-event/</url>
      <content type="html"><![CDATA[<p>前几天我们App上面有这么一个需求，就是在我们发照片的地方会贴上标签，但是这个标签可以点击删除，可以长按翻转，可以移动地方，那就会涉及到事件的冲突处理，这地方会有onClick,onLongClick,onTouch,总的来说，所有的事件都由如下三个部分作为基础：</p><ul><li>按下(ACTION_DOWN)</li></ul><ul><li>移动(ACTION_MOVE)</li></ul><ul><li>抬起(ACTION_UP)</li></ul><a id="more"></a><p>下面我们先从事件的实现开始来看看，最后我们一起来实现需求。<br>所有的操作事件首先会执行按下操作，之后的所有的操作都是以按下操作作为前提，当按下完成后，接下来可能是移动然后抬起，或者按下之后直接抬起，这一系列都是可以进行控制的。</p><p>我们知道，这些所有的触摸操作都是发生在触摸屏上，而在屏幕上与我们交互的是各种各样的试图组件View，所有的视图都继承于View，另外通过各种布局组件（ViewGroup）来对View进行布局，ViewGroup也继承于View。那么View和ViewGroup中主要有哪些方法来对这些事件进行响应哪？查看View和ViewGroup源码可知：<br>View.java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">dispatchTouchEvent</span><span class="params">(MotionEventevent)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onTouchEvent</span><span class="params">(MotionEvent event)</span></span></span><br></pre></td></tr></table></figure></p><p>ViewGroup.java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">dispatchTouchEvent</span><span class="params">(MotionEvent event)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onTouchEvent</span><span class="params">(MotionEvent event)</span> </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onInterceptTouchEvent</span><span class="params">(MotionEvent event)</span></span></span><br></pre></td></tr></table></figure></p><p>通过比对上面这几个方法可以看出，这里面有两个方法是公有的，<strong>dispatchTouchEvent</strong>和<strong>onTouchEvent</strong>，那么ViewGroup的第三个方法是干啥的那，不要着急，慢慢往下看。还有一个共同的地方就是他们的返回值竟然都是<strong>boolean</strong>类型，为什么会都是boolean类型，想想我们写这个博文的初衷，“事件传递”，传递嘛，就是一个接一个，那总要有结束的时候啊，这个boolean就是控制这个的，到了某一个点后是否继续往下传递，这个返回值很重要。所有的事件都是从开始传递到最后事件的消费，那么这个返回值就决定了是否继续传递，还是被拦截，或者消费了。<br>介绍完了返回值，接下来我们来看看这些方法的参数，都接收一个MotionEvent参数，这个参数继承于InputEvent，作用就是标记各种动作事件，刚开始说到的ACTION_DOWN，ACTION_MOVE，ACTION_UP，都是MotionEvent中定义的常量，我们就是通过这个常量来知道用户的具体操作事件。现在，我们对返回值和参数都有一定的概念了，下面来看一下这三个方法分别在什么时候处理事件。</p><ul><li><p><strong>dispatchTouchEvent()</strong>dispatch派遣，分发的意思，很明显这个方法就是用于事件的分发，Android中所有事件都必须经过这个方法来处理，决定是自身消费当前事件，还是继续分发给子View处理。返回true表示不继续分发，事件没有得到消费。反之，继续分发，如果是ViewGroup则分发给onInterceptTouchEvent进行判断是否拦截该事件。</p></li><li><p><strong>onTouchEvent()</strong>主要用于事件的处理，返回true，则消费此次事件，返回false，则不处理，交给子View处理。</p></li><li><p><strong>onInterceptTouchEvent()</strong>这是ViewGroup中独有的方法，作用就是事件的拦截，返回true，拦截当前事件，不继续分发，交给自身的onTouchEvent处理。返回false，不拦截，继续传递。为什么View没有这个方法，因为ViewGroup中可能还会有子View，而在Android中View是不可能再有View的（iOS是可以的）。</p></li></ul><p>实践这三个方法的实例的代码这里就不贴了，自己写一个demo，然后重写以上方法，各种手势，打Log。看下图，一般都是按照这个流程的</p><p><img src="http://ww4.sinaimg.cn/mw690/005yqym4gw1f1o7uc1ouhj30bn0g9dgi.jpg" alt=""></p><p>画的有点丑，在sketch上面自己草草画的。<br>下面我们来看看<strong>多布局事件传递</strong><br>多布局，也就是ViewGroup，这里要比上面多写一个onInterceptTouchEvent方法，ViewGroup中独有的，作用就是控制事件是否需要拦截。<br>这里就出来一个问题，一个事件是先传递到View，还是ViewGroup呐？最后直接上答案，Android中事件的传递，是从ViewGroup传递到View的，这个也不是很难理解。<br>下面我们来看看如何实现刚刚从一开始说的那个怎么实现吧。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> ClickEvent mEvent;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> pressStartTime;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> isMove = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">private</span> Handler outerHandler;</span><br><span class="line">     <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 当前触摸点相对于屏幕的坐标</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> mCurrentInScreenX;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> mCurrentInScreenY;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 触摸点按下时的相对于屏幕的坐标</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> prevRawX, prevRawY;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> LONG_PRESS_TIME = <span class="number">500</span>;</span><br><span class="line">     <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 长按线程</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> LongPressedThread mLongPressedThread;</span><br><span class="line">    <span class="keyword">this</span>.setOnTouchListener(<span class="keyword">new</span> OnTouchListener() ｛</span><br><span class="line"> <span class="keyword">float</span> prevX, prevY;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onTouch</span><span class="params">(<span class="keyword">final</span> View v, <span class="keyword">final</span> MotionEvent event)</span> &lt;</span></span><br><span class="line"><span class="function">                <span class="comment">//获取相对屏幕的坐标，即以屏幕左上角为原点</span></span></span><br><span class="line"><span class="function">                mCurrentInScreenX </span>= (<span class="keyword">int</span>) event.getRawX();</span><br><span class="line">                mCurrentInScreenY = (<span class="keyword">int</span>) event.getRawY();</span><br><span class="line">                <span class="keyword">switch</span> (event.getAction() &amp; MotionEvent.ACTION_MASK) &lt;</span><br><span class="line">                    <span class="keyword">case</span> MotionEvent.ACTION_MOVE: &lt;</span><br><span class="line">                        <span class="comment">//取消注册的长按事件</span></span><br><span class="line">                        outerHandler.removeCallbacks(mLongPressedThread);</span><br><span class="line">                        <span class="comment">//处理移动逻辑</span></span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                    &amp;#125;</span><br><span class="line">                    <span class="keyword">case</span> MotionEvent.ACTION_UP: &lt;</span><br><span class="line">                    <span class="keyword">if</span> (!isMove()) &lt;</span><br><span class="line">                            <span class="keyword">if</span> (Calendar.getInstance().getTimeInMillis() - pressStartTime &lt;= LONG_PRESS_TIME) &lt;</span><br><span class="line">                                outerHandler.removeCallbacks(mLongPressedThread);</span><br><span class="line">                                <span class="keyword">if</span> (mEvent != <span class="keyword">null</span>) &lt;</span><br><span class="line">                                    <span class="comment">//点击事件</span></span><br><span class="line">                                    mEvent.onClick();</span><br><span class="line">                                &amp;#125;</span><br><span class="line">                            &amp;#125;</span><br><span class="line">                        &amp;#125;</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                    &amp;#125;</span><br><span class="line">                    <span class="keyword">case</span> MotionEvent.ACTION_DOWN: &lt;</span><br><span class="line">                        pressStartTime = System.currentTimeMillis(); </span><br><span class="line">                        prevRawX = (<span class="keyword">int</span>) event.getRawX();</span><br><span class="line">                        prevRawY = (<span class="keyword">int</span>) event.getRawY();  </span><br><span class="line">                        mLongPressedThread = <span class="keyword">new</span> LongPressedThread();</span><br><span class="line">                        outerHandler.postDelayed(mLongPressedThread, LONG_PRESS_TIME);</span><br><span class="line">                                     </span><br><span class="line">                    &amp;#125;</span><br><span class="line">                &amp;#125;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &amp;#125;</span><br><span class="line">        &amp;#125;);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LongPressedThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span> &lt;</span></span><br><span class="line"><span class="class">        @<span class="title">Override</span></span></span><br><span class="line"><span class="class">        <span class="title">public</span> <span class="title">void</span> <span class="title">run</span>() &lt;</span></span><br><span class="line"><span class="class">            //长按事件</span></span><br><span class="line"><span class="class">            <span class="title">mEvent</span>.<span class="title">onLongClick</span>()</span>;</span><br><span class="line">        &amp;#125;</span><br><span class="line">    &amp;#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setClickEvent</span><span class="params">(ClickEvent event)</span> &lt;</span></span><br><span class="line"><span class="function">        <span class="keyword">this</span>.mEvent </span>= event;</span><br><span class="line">    &amp;#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isMove</span><span class="params">()</span> &lt;</span></span><br><span class="line"><span class="function">        <span class="title">if</span> <span class="params">(Math.abs(prevRawX - mCurrentInScreenX)</span> &lt;</span>= <span class="number">5</span> &amp;&amp; Math.abs(prevRawY - mCurrentInScreenY) &lt;= <span class="number">5</span>) &lt;</span><br><span class="line">            isMove = <span class="keyword">false</span>;</span><br><span class="line">        &amp;#125; else &lt;</span><br><span class="line">            isMove = <span class="keyword">true</span>;</span><br><span class="line">        &amp;#125;</span><br><span class="line">        <span class="keyword">return</span> isMove;</span><br><span class="line">    &amp;#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ClickEvent</span> &lt;</span></span><br><span class="line"><span class="class">        <span class="title">void</span> <span class="title">onClick</span>()</span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">onLongClick</span><span class="params">()</span></span>;</span><br><span class="line">    &amp;#125;</span><br></pre></td></tr></table></figure><p>首先我们添加了onTouchListener事件，重写onTouch事件，上面已经说过，任何事件都是从Down开始的，源码中已经告诉我们，如果没有down，后续的所有事件将毫无意义。<br>上面我们在Down中纪录了按下的时间，开启一个线程然后延迟500ms（长按触发的时间）后执行，然后再UP的时候我判断如果按住的时间没有超过了500ms那么代码长按事件没有触发，然后执行点击事件的逻辑，同时删除掉Handler队列中的处理长按事件的线程，如果执行了Move事件也需要删除Handler队列里面的长按处理线程。<br>我们只要在想用的地方这样就好了</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">View.setClickEvent(<span class="keyword">new</span> CustomView.ClickEvent() &lt;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">()</span> &lt;</span></span><br><span class="line"><span class="function">       <span class="comment">//处理你的点击逻辑</span></span></span><br><span class="line"><span class="function">  &amp;#125</span>;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onLongClick</span><span class="params">()</span> &lt;</span></span><br><span class="line"><span class="function">      <span class="comment">//处理你的长按逻辑</span></span></span><br><span class="line"><span class="function">   &amp;#125</span>;</span><br><span class="line">&amp;#125;);</span><br></pre></td></tr></table></figure><p><strong>综上所述</strong><br>我上高中的时候，我数学老师最爱说的一句话就是综上所述，直接出答案。</p><ul><li>Android 中的事件传递展现的是一种层级关系，从上往下，从ViewGroup到View。</li><li>事件传递有三个重要的方法，dispatchTouchEvent、onTouchEvent、onInterceptTouchEvent，前两个是View和ViewGroup共有的，最后一个是ViewGroup特有的。他们分别负责的事情就是，事件的分发，事件的处理，事件的拦截。</li><li>onTouch事件优先于onClick执行，onTouchEvent要后于dispatchTouchEvent方法调用。因为onTouch在事件分发完在dispatchTouchEvent中调用，而onClick在事件处理方法onTouchEvent中调用。</li></ul><p>夜已经深了，今天也比较累了，可能就是让这个搞得吧，但是最终还是solve了，大家晚安。GoodNight。</p>]]></content>
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android事件处理 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>程序员的黄金搭档</title>
      <link href="/2015/11/26/Hero/"/>
      <url>/2015/11/26/Hero/</url>
      <content type="html"><![CDATA[<p>一个好的工作环境不只是公司给我们提供，也需要我们自己配置，工欲善其事，必先利其器。为自己搭建一个令自己开开森森的工作台，岂不美哉美哉。</p><a id="more"></a><p><img src="http://ww4.sinaimg.cn/large/005yqym4gw1f1o7yr5m0ij31120rt0y2.jpg" alt=""></p><p>题图是我最近拍的</p><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> 随记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 工作 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>关于App中再按一次退出实现方式</title>
      <link href="/2015/11/21/AppExit/"/>
      <url>/2015/11/21/AppExit/</url>
      <content type="html"><![CDATA[<p>想必大家都见过，大多数的App都有这么一种情况，就是当我们在App上进行如何操作，在最后快要退出的时候，往往要连按两次Back键，第一次的时候会有提示“再按一次退出”等提示语，在提示还没消失的时候再按一次，应用真正退出。下面我们就来看看如何简单实现这一种，第一种是我们的常规做法，第二种保准会让你爱不释手。</p><a id="more"></a>  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">long</span> exitTime = <span class="number">0</span>;</span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onBackPressed</span><span class="params">()</span> &amp;#123</span>;</span><br><span class="line">      if ((System.currentTimeMillis() - exitTime) &gt; 2000) &amp;#123;</span><br><span class="line">          Toast.makeText(<span class="keyword">this</span>,R.string.press_again_exit_app,Toast.LENGTH_SHORT).show();</span><br><span class="line">          exitTime = System.currentTimeMillis();</span><br><span class="line">      &amp;#125; else &amp;#123;</span><br><span class="line">          finish();</span><br><span class="line">      &amp;#125;</span><br><span class="line">  &amp;#125;</span><br></pre></td></tr></table></figure><p>我们在这里重写onBackPresswd(),判断时间戳，想必大家都是这么实现的，这里介绍一个简单的Method。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> Toast toast;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> &amp;#123</span>;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        toast = Toast.makeText(<span class="keyword">this</span>, <span class="string">"再按一次退出"</span>, Toast.LENGTH_LONG);</span><br><span class="line">    &amp;#125;</span><br><span class="line">   </span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onBackPressed</span><span class="params">()</span> &amp;#123</span>;</span><br><span class="line">    if(null == toast.getView.getParent())&amp;#123;</span><br><span class="line">        toast.show();</span><br><span class="line">    &amp;#125;else&amp;#123;</span><br><span class="line">        System.exit(<span class="number">0</span>);</span><br><span class="line">    &amp;#125;</span><br><span class="line">｝</span><br></pre></td></tr></table></figure></p><p>当我们的toast显示不消失，那么我们获取到的toast.getView.getParent()始终不为空，在我们在toast没消失的时候再点击一次Back，那么整个应用退出。是不是很简单啊。</p><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android小技巧 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>学习网站整理</title>
      <link href="/2015/11/19/StudyAndroidWebsite/"/>
      <url>/2015/11/19/StudyAndroidWebsite/</url>
      <content type="html"><![CDATA[<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=2&id=25706282&auto=0&height=66"></iframe><p>今天晚上把之前收集的一些有用的csdn，blogs，github分享给大家，这里面不止有android的东西，还有iOS的东西，前端，后台…这就是我们android开发人员的精神食粮，每天吮吸那么一点点。。。。</p><a id="more"></a><h3><span id="android">Android</span></h3><ul><li><a href="https://github.com/zhujun2730/Android-Learning-Resources" target="_blank" rel="noopener">别人整理的 Android 学习资源网站</a></li><li><a href="http://blog.csdn.net/singwhatiwanna" target="_blank" rel="noopener">任玉刚</a></li><li><a href="http://blog.csdn.net/xyz_lmn" target="_blank" rel="noopener">张兴业</a></li><li><a href="http://chenqichao.me/" target="_blank" rel="noopener">陈启超</a></li><li><a href="https://github.com/googlesamples/" target="_blank" rel="noopener">Google学习demo</a></li><li><a href="http://blog.csdn.net/yuanzeyao" target="_blank" rel="noopener">Android学习之旅</a></li><li><a href="http://blog.isming.me/" target="_blank" rel="noopener">码农明明桑</a></li><li><a href="http://www.cnblogs.com/tiantianbyconan/" target="_blank" rel="noopener">Android</a></li><li><a href="http://blog.csdn.net/guolin_blog" target="_blank" rel="noopener">郭霖</a></li><li><a href="http://blog.csdn.net/lmj623565791" target="_blank" rel="noopener">鸿洋</a></li><li><a href="http://blog.csdn.net/bboyfeiyu" target="_blank" rel="noopener">MrSimple何鸿辉</a></li><li><a href="http://blog.csdn.net/aigestudio" target="_blank" rel="noopener">AigeStudio关爱民</a></li><li><a href="http://aigestudio.com/" target="_blank" rel="noopener">Aige个人小站</a></li><li><a href="http://blog.csdn.net/android_tutor" target="_blank" rel="noopener">Android_Tutor</a></li><li><a href="http://blog.csdn.net/rootusers" target="_blank" rel="noopener">Android流媒体技术</a></li><li><a href="http://blog.csdn.net/evankaka" target="_blank" rel="noopener">林炳文</a></li><li><a href="http://blog.csdn.net/luoshengyang" target="_blank" rel="noopener">老罗，罗升阳</a></li><li><a href="http://blog.csdn.net/innost" target="_blank" rel="noopener">邓凡平</a></li><li><a href="http://www.trinea.cn/" target="_blank" rel="noopener">Trinea</a></li><li><a href="http://blog.csdn.net/lincyang" target="_blank" rel="noopener">Android问题集锦</a></li><li><a href="http://blog.csdn.net/hyr83960944" target="_blank" rel="noopener">AndroidStudio问题集锦</a></li><li><a href="http://blog.csdn.net/qibin0506" target="_blank" rel="noopener">亓斌</a></li><li><a href="http://blog.csdn.net/rain_butterfly" target="_blank" rel="noopener">AndroidUI优化</a></li><li><a href="http://will4it.com/" target="_blank" rel="noopener">Will</a></li><li><a href="http://github.thinkingbar.com" target="_blank" rel="noopener">Java编程思想</a></li><li><a href="http://stormzhang.com" target="_blank" rel="noopener">stormzhang</a></li><li><a href="http://www.cnblogs.com/sunzn/" target="_blank" rel="noopener">sunzn’Blog</a></li><li><a href="http://blog.csdn.net/way_ping_li" target="_blank" rel="noopener">Android实战小项目</a></li><li><a href="http://gundumw100.iteye.com/" target="_blank" rel="noopener">Android小片段</a></li><li><a href="http://www.cnblogs.com/qianxudetianxia/" target="_blank" rel="noopener">Android学习系列</a></li><li><a href="http://blog.csdn.net/xiaanming" target="_blank" rel="noopener">夏安明</a></li><li><a href="http://blog.csdn.net/eclipsexys" target="_blank" rel="noopener">徐宜生</a></li><li><a href="http://blog.csdn.net/wingichoy" target="_blank" rel="noopener">Android自定义View</a></li><li><a href="http://blog.csdn.net/wangjinyu501" target="_blank" rel="noopener">王鹏Android</a></li><li><a href="http://kymjs.com/" target="_blank" rel="noopener">张涛</a></li><li><a href="http://hukai.me/" target="_blank" rel="noopener">胡凯</a></li><li><a href="http://blog.csdn.net/ns_code" target="_blank" rel="noopener">Java高级</a></li><li><a href="http://www.cnblogs.com/stay/" target="_blank" rel="noopener">Stay</a></li><li><a href="http://colobu.com/archives/" target="_blank" rel="noopener">鸟窝</a> </li><li><a href="https://github.com/android-cn/android-open-project-analysis" target="_blank" rel="noopener">Android 开源项目源码解析</a></li><li><a href="https://github.com/simple-android-framework/android_design_patterns_analysis" target="_blank" rel="noopener">Android源码设计模式分析项目</a></li><li><a href="https://github.com/Trinea/android-open-project" target="_blank" rel="noopener">Android 开源项目分类汇总</a></li><li><a href="http://blog.csdn.net/wwj_748" target="_blank" rel="noopener">巫小刚</a></li><li><a href="http://blog.csdn.net/zhaokaiqiang1992" target="_blank" rel="noopener">赵凯强</a></li><li><a href="http://zmywly8866.github.io/pages/archive.html" target="_blank" rel="noopener">张明云</a></li><li><a href="http://www.nowamagic.net/academy/category/50/" target="_blank" rel="noopener">Android魔法学院</a></li><li><a href="http://blog.csdn.net/maosidiaoxian" target="_blank" rel="noopener">掉线的Android</a></li><li><a href="https://github.com/android-cn" target="_blank" rel="noopener">android-cn</a></li><li><a href="https://github.com/MiCode" target="_blank" rel="noopener">小米开源社区</a></li><li><a href="https://greenrobot.me/" target="_blank" rel="noopener">Android开发博文</a></li><li><a href="http://www.vmatianyu.cn" target="_blank" rel="noopener">马天宇Android</a></li><li><a href="http://www.cnblogs.com/yydcdut/" target="_blank" rel="noopener">Android笔记</a></li><li><a href="http://cutler.github.io/archives/" target="_blank" rel="noopener">Android技术总结</a></li><li><a href="http://blog.csdn.net/yanbober" target="_blank" rel="noopener">工匠若水</a></li><li><a href="http://yanbober.github.io/posts.html" target="_blank" rel="noopener">工匠若水2</a></li><li><a href="http://blog.csdn.net/nomasp" target="_blank" rel="noopener">nomasp柯于旺</a></li><li><a href="http://www.cnblogs.com/mingzi/" target="_blank" rel="noopener">每天一道算法</a></li><li><a href="http://blog.csdn.net/harvic880925" target="_blank" rel="noopener">Android系列博文</a></li><li><a href="http://www.simplecoder.cn/" target="_blank" rel="noopener">SimpleBloger</a></li><li><a href="http://jimhuang.cn/" target="_blank" rel="noopener">猫头鹰技术博客</a></li><li><a href="http://blog.csdn.net/growth58" target="_blank" rel="noopener">AndroidStudio教程</a></li><li><a href="http://git-scm.com/book/zh/v1" target="_blank" rel="noopener">gitBook</a></li><li><a href="http://drakeet.me/list" target="_blank" rel="noopener">晓峰</a></li><li><a href="http://www.iswifting.com/categories/" target="_blank" rel="noopener">Android程序人生</a></li><li><a href="https://github.com/tangqi92/Android-Tips" target="_blank" rel="noopener">Android填坑手册</a></li><li><a href="http://askandroid.sinaapp.com/?/explore/" target="_blank" rel="noopener">Android话题</a></li><li><a href="http://androidweekly.cn/" target="_blank" rel="noopener">Android开发技术周报</a></li><li><a href="http://codekk.com" target="_blank" rel="noopener">Codekk源码</a></li><li><a href="http://blog.csdn.net/yy1300326388" target="_blank" rel="noopener">AndroidStudio专栏</a></li><li><a href="http://blog.csdn.net/jiangwei0910410003" target="_blank" rel="noopener">天真无邪Android技术</a></li><li><a href="http://www.23code.com/dong-hua-xiao-guo-animate/" target="_blank" rel="noopener">Android开源项目</a></li><li><a href="http://www.gitguys.com/?lang=zh" target="_blank" rel="noopener">git教程</a></li><li><a href="http://blog.zhaiyifan.cn/" target="_blank" rel="noopener">markzhai-魔都大帅</a></li><li><a href="http://droidyue.com/" target="_blank" rel="noopener">技术小黑屋</a></li><li><a href="http://keeganlee.me/" target="_blank" rel="noopener">小钢Android</a></li><li><a href="http://toughcoder.net/" target="_blank" rel="noopener">稀有猿诉</a></li><li><a href="http://ryantang.me/" target="_blank" rel="noopener">唐韧</a></li><li><a href="http://www.liaohuqiu.net/cn/" target="_blank" rel="noopener">廖祜秋</a></li><li><a href="http://blog.csdn.net/jdsjlzx" target="_blank" rel="noopener">一叶飘舟</a></li><li><a href="http://blog.csdn.net/lfdfhl" target="_blank" rel="noopener">谷哥的小弟</a></li><li><a href="https://mp.weixin.qq.com/s?__biz=MzI1MTA1MzM2Nw==&amp;mid=401454605&amp;idx=1&amp;sn=d5a16f6dc13e7581fec08a4e704cd5d0&amp;scene=0&amp;key=710a5d99946419d9038196796c6fcfa1b25f52c9fb3c9e5e53f83af532207ee9d5fa74ef7a8ed5941aeb4891c6d42474&amp;ascene=0&amp;uin=MTYzMjY2MTE1&amp;devicetype=iMac+MacBookPro10%2C1+OSX+OSX+10.11.2+build(15C50" target="_blank" rel="noopener">QQ空间终端开发-Android相机开发那些坑</a>&amp;version=11020201&amp;pass_ticket=nGtC65w6xV2ek%2FFuwmH4lhHBfWD3CJETV1gyVmBVaIc%3D)</li><li><a href="http://www.droidsec.cn/" target="_blank" rel="noopener">Android安全中文站</a></li><li><a href="http://rxjava.yuxingxin.com/index.html" target="_blank" rel="noopener">RX Java中文版</a></li><li><a href="https://www.gitbook.com/book/huanglizhuo/kotlin-in-chinese/details" target="_blank" rel="noopener">KotlinGitBook中文版</a></li><li><a href="http://grepcode.com/" target="_blank" rel="noopener">查看Android源码</a></li><li><a href="https://github.com/JakeWharton" target="_blank" rel="noopener">JakeWhartonGithub</a></li><li><a href="http://gank.io/post/560e15be2dca930e00da1083#toc_1" target="_blank" rel="noopener">给Android开发者的RxJava详解</a></li><li><a href="http://blog.csdn.net/lzyzsd" target="_blank" rel="noopener">大头鬼Blog</a></li><li><a href="https://github.com/googlesamples" target="_blank" rel="noopener">Google开源项目</a></li><li><a href="https://www.zhihu.com/question/27718787" target="_blank" rel="noopener">如何高效学习动画－知乎</a></li><li><a href="http://hukai.me/android-training-course-in-chinese/" target="_blank" rel="noopener">Android官方培训课程中文版</a></li><li><a href="https://wangjiegulu.gitbooks.io/kotlin-for-android-developers-zh/content/" target="_blank" rel="noopener">Kotlin for android developers》中文版</a></li><li><a href="http://www.jianshu.com/collection/5139d555c94d" target="_blank" rel="noopener">Android开发经验谈</a></li><li><a href="http://www.jianshu.com/p/4390f4fe19b3" target="_blank" rel="noopener">Android 开发规范与应用</a></li><li><a href="https://www.aswifter.com/android/" target="_blank" rel="noopener">阳春面blog</a></li><li><a href="https://www.zhihu.com/question/27227425" target="_blank" rel="noopener">好的Android开发习惯</a></li><li><a href="http://www.android-gems.com/" target="_blank" rel="noopener">Android－gms</a> </li><li><a href="http://blog.csdn.net/zuiwuyuan/article/details/48201111" target="_blank" rel="noopener">AndroidStudio系列文章</a></li><li><a href="http://chinagdg.org/category/android/" target="_blank" rel="noopener">GDG</a></li><li><a href="https://github.com/bboyfeiyu/android-tech-frontier" target="_blank" rel="noopener">Android优质文章－开发技术前线</a></li><li><a href="https://github.com/lzyzsd/Awesome-RxJava" target="_blank" rel="noopener">RxJava资料</a></li><li><a href="http://wuxiaolong.me/" target="_blank" rel="noopener">吴小龙</a></li><li><a href="https://www.gitbook.com/book/bng86/android-third-party-/details" target="_blank" rel="noopener">第三方库的使用心得</a></li><li><a href="https://github.com/LittleFriendsGroup/AndroidSdkSourceAnalysis" target="_blank" rel="noopener">AndroidSDK源码分析</a></li><li><a href="http://blog.csdn.net/tencent_bugly" target="_blank" rel="noopener">腾讯Bugly专栏</a></li><li><a href="https://hujiaweibujidao.github.io/" target="_blank" rel="noopener">胡家威</a></li><li><a href="http://chinagdg.org/2016/05/google-io-2016-android/" target="_blank" rel="noopener">2016GoogleIO视频</a></li><li><a href="http://wanandroid.com/" target="_blank" rel="noopener">玩 Android</a></li><li><a href="https://github.com/Piasy/notes" target="_blank" rel="noopener">技术笔记</a></li><li><a href="http://blog.dreamtobe.cn/" target="_blank" rel="noopener">JacksBlog</a></li><li><a href="http://blog.piasy.com/" target="_blank" rel="noopener">高产 Piasy</a></li><li><a href="http://doc.cniao5.com/android/" target="_blank" rel="noopener">不翻墙的小伙伴可以访问的AndroidDeveloper</a></li><li><a href="http://chriszou.com/" target="_blank" rel="noopener">小创的 Android 单元测试</a></li><li><a href="http://gityuan.com/" target="_blank" rel="noopener">Gityuan</a></li><li><a href="http://gdky005.com/" target="_blank" rel="noopener">孤独狂饮</a></li><li><a href="https://github.com/DiyCodes/code_news" target="_blank" rel="noopener">Diycode 每日精选</a></li><li><a href="https://android-arsenal.com/" target="_blank" rel="noopener">各种 UI 特效</a></li><li><a href="https://github.com/Freelander/Android_Data" target="_blank" rel="noopener">Android 学习资料整理</a></li><li><a href="https://github.com/GeniusVJR/LearningNotes" target="_blank" rel="noopener">Android 学习笔记大全</a></li><li><a href="http://hanhailong.com/" target="_blank" rel="noopener">韩海龙 Android</a></li><li><a href="http://zhengxiaoyong.me/" target="_blank" rel="noopener">郑晓勇一些优化方面实践</a></li><li><a href="http://weishu.me/" target="_blank" rel="noopener">田维术一些插件化方面实践</a></li><li><a href="http://blog.csdn.net/sbsujjbcy?viewmode=contents" target="_blank" rel="noopener">区长csdn</a></li></ul><h3><span id="ios">iOS</span></h3><ul><li><a href="http://blog.callmewhy.com/" target="_blank" rel="noopener">Why’s BlogSwift</a></li><li><a href="http://blog.csdn.net/zhangao0086" target="_blank" rel="noopener">iOS开发集锦</a></li><li><a href="http://onevcat.com/#blog" target="_blank" rel="noopener">王巍喵神</a></li><li><a href="http://blog.ibireme.com/" target="_blank" rel="noopener">YYKitiOS</a></li><li><a href="https://lvwenhan.com/" target="_blank" rel="noopener">吕文瀚iOS</a></li><li><a href="http://blog.devtang.com/" target="_blank" rel="noopener">唐巧</a></li><li><a href="http://beyondvincent.com/" target="_blank" rel="noopener">破船之家iOS</a></li><li><a href="http://www.zero1993.com/index.html" target="_blank" rel="noopener">iOS博客</a></li><li><a href="http://objccn.io/" target="_blank" rel="noopener">objc中国</a></li><li><a href="http://blog.csdn.net/colouful987/article/details/46125113" target="_blank" rel="noopener">ios_swift开发资源整理</a></li><li><a href="http://blog.sunnyxx.com" target="_blank" rel="noopener">Sunny iOS</a></li><li><a href="http://www.cnblogs.com/mjios/" target="_blank" rel="noopener">MJiOS</a></li><li><a href="http://www.hawstein.com/archive.html" target="_blank" rel="noopener"> Cracking the coding interview</a></li><li><a href="https://github.com/iamdaiyuan/ios_top_1000" target="_blank" rel="noopener">iOS开源库</a></li><li><a href="http://blog.cnbang.net/archives/" target="_blank" rel="noopener">iOS技术博文</a></li><li><a href="https://github.com/matteocrippa/awesome-swift" target="_blank" rel="noopener">Swift干货</a></li><li><a href="http://blog.csdn.net/sqc3375177" target="_blank" rel="noopener">孙启超swift</a></li><li><a href="http://www.cnblogs.com/gcb999/" target="_blank" rel="noopener">iOS博文</a></li><li><a href="http://www.cocoachina.com/special/swift/" target="_blank" rel="noopener">从今天开始学习swift</a></li><li><a href="https://github.com/ipader/SwiftGuide#swift_doc" target="_blank" rel="noopener">Swift 语言指南</a></li><li><a href="http://optionalswift.cn/" target="_blank" rel="noopener">swift小应用</a></li><li><a href="http://www.swiftmi.com/" target="_blank" rel="noopener">swift社区</a></li><li><a href="http://tech.glowing.com/cn/" target="_blank" rel="noopener">iOS技术团队</a></li><li><a href="https://github.com/qinjx/30min_guides/blob/master/ios.md" target="_blank" rel="noopener">iOS开发60分钟入门</a></li><li><a href="http://blog.csdn.net/xn4545945" target="_blank" rel="noopener">移动开发点点滴滴</a></li><li><a href="https://github.com/coderyi/Monkey/blob/master/github_top_users_repositories/github_top_users_objective-c_world.md" target="_blank" rel="noopener">GitHub排名前50的Objective-C开发者</a></li><li><a href="http://zhuanlan.zhihu.com/kidscoding/20537747" target="_blank" rel="noopener">让不懂编程的人爱上iOS</a></li><li><a href="http://code4app.com/" target="_blank" rel="noopener">iOS开发网站</a></li><li><a href="http://southpeak.github.io/blog/archives/" target="_blank" rel="noopener">南峰子iOS</a></li><li><a href="https://github.com/coderyi/blog" target="_blank" rel="noopener">有态度的iOScoder</a></li><li><a href="http://mobdevgroup.com/platform/ios/project/" target="_blank" rel="noopener">iOS开源项目</a></li><li><a href="https://github.com/jamy0801/LGWeChatKit" target="_blank" rel="noopener">swift微信</a></li><li><a href="https://github.com/kevinzhow/ios-with-girlfriend" target="_blank" rel="noopener">kevinzhow-送给女朋友的iOS视频</a></li><li><a href="https://github.com/Aufree/trip-to-iOS" target="_blank" rel="noopener">iOS学习资料整理</a></li><li><a href="https://github.com/Tim9Liu9/TimLiu-iOS" target="_blank" rel="noopener">iOS，Mac开源框架</a></li><li><a href="https://github.com/tangqiaoboy/iOSBlogCN" target="_blank" rel="noopener">中文 iOS/Mac 开发博客列表</a></li><li><a href="http://nshipster.cn/" target="_blank" rel="noopener">关注被忽略的OC，Swift和Cocoa特性</a></li><li><a href="http://casatwy.com/" target="_blank" rel="noopener">iOS架构方面</a></li><li><a href="https://github.com/KittenYang" target="_blank" rel="noopener">iOS动画小王子</a></li><li><a href="https://github.com/allenwong/30DaysofSwift" target="_blank" rel="noopener">30 Days of Swift</a></li><li><a href="http://bbs.iosre.com/" target="_blank" rel="noopener">iOS 逆向相关</a></li><li><a href="https://github.com/apple/swift-evolution" target="_blank" rel="noopener">swift-evolution</a></li><li><a href="https://zhuanlan.zhihu.com/kidscoding" target="_blank" rel="noopener">笨猫学编程专栏</a></li></ul><h3><span id="其他">其他</span></h3><ul><li><a href="http://dbanotes.net/" target="_blank" rel="noopener">冯大辉个人Blog</a></li><li><a href="http://www.devtf.cn/" target="_blank" rel="noopener">开发技术前线</a></li><li><a href="http://blog.csdn.net/wirelessqa/article/category/1557203" target="_blank" rel="noopener">每天一个Linux命令</a></li><li><a href="http://apistore.baidu.com/astore/classificationservicelist.html" target="_blank" rel="noopener">Baidu免费API</a></li><li><a href="http://blog.csdn.net/itfootball" target="_blank" rel="noopener">App测试</a></li><li><a href="https://github.com/wizardforcel/w3school" target="_blank" rel="noopener">菜鸟各种教程</a></li><li><a href="http://tech.meituan.com/" target="_blank" rel="noopener">美团点评技术团队</a></li><li><a href="http://www.androidweekly.cn/tag/androiddevweekly/" target="_blank" rel="noopener">Android开发技术周报</a></li><li><a href="http://www.jcodecraeer.com/" target="_blank" rel="noopener">泡在网上的日子</a></li><li><a href="http://www.ruanyifeng.com/blog/" target="_blank" rel="noopener">阮一峰</a></li><li><a href="http://www.liaoxuefeng.com/" target="_blank" rel="noopener">廖雪峰</a></li><li><a href="https://www.zhihu.com/question/20161362" target="_blank" rel="noopener">如何用好Google搜索引擎</a></li><li><a href="http://objccn.io/" target="_blank" rel="noopener">objc中国</a></li><li><a href="http://swift.gg/" target="_blank" rel="noopener">走心的Swift翻译组</a></li><li><a href="http://color-themes.com/?view=index" target="_blank" rel="noopener">As主题配置</a></li><li><a href="http://hihocoder.com/hiho" target="_blank" rel="noopener">刷算法</a></li><li><a href="http://wereadteam.github.io/" target="_blank" rel="noopener">微信读书团队</a></li><li><a href="http://diycode.cc/" target="_blank" rel="noopener">diyicode社区</a></li><li><a href="http://bbs.pediy.com/forumdisplay.php?f=161" target="_blank" rel="noopener">看雪安全论坛</a></li><li><a href="http://www.lcode.org/" target="_blank" rel="noopener">江青青的技术专栏，专注移动开发</a></li><li><a href="http://luuman.github.io/FrontEndGuide/V1/index.html" target="_blank" rel="noopener">大前端</a></li><li><a href="http://www.jianshu.com/p/3cb5c6f2421c" target="_blank" rel="noopener">优雅的使用你的SublimeText3</a></li><li><a href="http://f8-app.liaohuqiu.net/" target="_blank" rel="noopener">构建 F8</a></li><li><a href="https://github.com/reactnativecn/react-native-guide#react-native" target="_blank" rel="noopener">React-Native学习指南</a></li><li><a href="https://github.com/fangwei716/30-days-of-react-native" target="_blank" rel="noopener">30-days-of-react-native</a></li><li><a href="http://699pic.com/best.html" target="_blank" rel="noopener">摄图网</a></li><li><a href="http://col.dog/categories/vim/" target="_blank" rel="noopener">VIM 教程</a></li><li><a href="https://dsx.bugly.qq.com/" target="_blank" rel="noopener">一个开源镜像站点, xCode,SDK,Gradle 更新站点</a></li><li><a href="http://bugly.qq.com/bbs/portal.php" target="_blank" rel="noopener">Bugly 社区</a></li><li><a href="http://www.tngou.net/doc/" target="_blank" rel="noopener">我们可以自己玩的一些 API</a></li><li><a href="https://www.gitbook.com/explore" target="_blank" rel="noopener">一大波 gitbook 书籍</a></li></ul><p>后续会继续添加，继续维护</p><p><b>版权声明：</b><br></p><p><hr><br><em>除非注明，本博文章均为原创，转载请以链接形式标明本文地址。</em><br></p>]]></content>
      
      <categories>
          
          <category> 学习网站整理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习资料 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>AndroidStudio中的javaMaxHeapSize和multiDexEnabled问题</title>
      <link href="/2015/11/19/AndroidStudioCompilerError/"/>
      <url>/2015/11/19/AndroidStudioCompilerError/</url>
      <content type="html"><![CDATA[<p><html>&nbsp;&nbsp;&nbsp;&nbsp;来公司已经四个月了，来公司之前，公司的代码是在eclipse上面开发的，但是我个人完全已经爱上了AndroidStudio了，决定把公司的代码转移阵地，和leader几番商量之后，来到了Studio，由于项目一点点变大，也要跟上时代App的步伐，所以这一步肯定是没错的，As的好处这里就不多说了，但是好处的同时也会带来苦恼，一些问题基本见都没见过，自己一点点的来就是唯一的解决办法。下面说两个我们遇到的问题<a id="more"></a></html></p><p><html>&nbsp;&nbsp;&nbsp;&nbsp;当我们把项目转移到AS之后出现了下面两个问题，大家一起看看。<br>第一个错误就是方法数超过65536，很常见。如果要在之前在Eclipse中要分包啥的，反正很麻烦，现在有了AS大法好，下面说；第二个错误就是一个OOM，但不是我们平时见到的，是一个关于java层的OOM，error中有一个关于4g的错误标识，下面说。//当时忘了截图。。。。</html></p><p>这两个问题不知大家见过没见过，但是当我看见她的时候我蒙了，因为我在clean，build代码的是是successful的，run完之后竟然给我来了这么一出，但是我看到了其中的65536，DexIndexOverflowException,OOM,这么熟悉的几个bug代名词，让我浮想联翩，中间的过程就不说了，直接来处理方法，以及结果吧。</p><p><html>&nbsp;&nbsp;&nbsp;&nbsp;对于上图中第一个error哪，处理方法是这样的，只要在app的build.gradle中加上下面这几句<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">defaultConfig &amp;#123;</span><br><span class="line">        multiDexEnabled <span class="keyword">true</span></span><br><span class="line">    &amp;#125;</span><br><span class="line">    </span><br><span class="line">dependencies &amp;#123;</span><br><span class="line">    compile <span class="string">'com.android.support:multidex:1.0.0'</span></span><br><span class="line">&amp;#125;</span><br></pre></td></tr></table></figure></html></p><p>最后还要让你的自定义的Application类继承MultiDexApplication，就可以了。如果不想继承的话也可以，只要在你的application类里面重写这个方法就好了<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">attachBaseContext</span><span class="params">(Context base)</span> &amp;#123</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">super</span>.attachBaseContext(base);</span><br><span class="line"></span><br><span class="line">    MultiDex.install(<span class="keyword">this</span>);</span><br><span class="line">&amp;#125;</span><br></pre></td></tr></table></figure></p><p>第一个我们已经fix掉了，下面我们来解决第二个问题，就是OOM，但这个OOM和我们平时见到的OOM不一样，这个是java层报的OOM，那就是运行时内存不够了呗，这里在build.gradle里面同样加上一句话也管用。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dexOptions &amp;#123;</span><br><span class="line">       javaMaxHeapSize &quot;4g&quot;</span><br><span class="line">   &amp;#125;</span><br></pre></td></tr></table></figure><p>重新编译，运行，OK，可以了，Android之路，我们是在平坦的道路上曲折前行啊，这句话配上许岑老师就帅了。</p>]]></content>
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AndroidStudio </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>乔迁之喜</title>
      <link href="/2015/11/17/First/"/>
      <url>/2015/11/17/First/</url>
      <content type="html"><![CDATA[<p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=2&id=28306412&auto=0&height=66"></iframe></p><p><html>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</html><br>首发有福利哦。。。。</p><a id="more"></a><p><img src="http://ww2.sinaimg.cn/large/005yqym4gw1f1o86d8e0rj30df0ku409.jpg" alt=""></p><p><html>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</html>搭建属于自己的个人Blog，心生已久，作为一个程序员就应该有一个属于自己空间的小地方，想写什么写什么，想吐槽什么吐槽什么，做一个快快乐乐的猿猴。。。。</p><p><html>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</html>在这里我可能不会说博客的搭建过程，因为你去Google一把，前两篇就能保证教会你，我就是亲身体验用户，搭建出了一个在我眼里看着还可以的BlogZone，我会陆陆续续的把我csdn上的一些不成熟的博文移到这里面来，写博客确实是一件很费时间，费精力的事情，因为你要准备，你要实践。但是，当你的博客hexo g -d 的时候，你的成就感油然心生，你看到了成果，一篇博客的诞生会让你高兴半天，之前在<a href="http://blog.csdn.net/dakaring" target="_blank" rel="noopener">csdn</a>，偶尔会写一篇，但是现在不一样了，现在这个东西是我自己的记事本，我会时不时的纪录下我在Android路上踩到的坑，以及一些好玩的小技巧。</p><p><html>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</html>希望通过这个机会能够认识到更多Android小伙伴，一起学习，一起交流</p>]]></content>
      
      <categories>
          
          <category> 随记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随笔 </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
